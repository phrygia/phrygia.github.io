---
emoji: ğŸ““
title: '[javascript] ë°°ì—´ì—ì„œ íŠ¹ì •ê°’ì„ ì„ íƒí•´ì„œ ê°ì²´ë¡œ ë³€í™˜'
date: '2023-01-22 19:53:00'
author: phrygia
tags: js posts
categories: js
---

íšŒì‚¬ì—ì„œ ê°œë°œí•˜ë˜ ì¤‘ ì„ íƒëœ ìƒí’ˆì˜ ë°°ì—´ì—ì„œ ê° ìƒí’ˆì˜ `store_key`ì™€ `quantity`ë¥¼ ì¶”ì¶œí•´ì„œ ê²°ì œí˜ì´ì§€ë¡œ ë„˜ê²¨ì£¼ëŠ” ë¡œì§ì„ ê°œë°œí•˜ê³  ìˆì—ˆë‹¤.

<div style="max-width: 350px">

![ì¥ë°”êµ¬ë‹ˆ](img/2023-01-22.jpg)

</div>

![api](img/2023-01-22-1.jpg)

**\*ì¶”ì¶œí•˜ë ¤ëŠ” ê°’**

```js
// { store_key: quantity } í˜•ì‹
{ 99ngh08: 2, 5gxyt1q: 1, 3ifu0ie: 1 }
```

<br><br>

ìš°ì„  ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆë“¤ì¤‘ ì„ íƒí•œ ìƒí’ˆì„ idë¡œ í•„í„°í•˜ê³  mapìœ¼ë¡œ store_keyí‚¤ë§Œ ì¶”ì¶œí•œ ë‹¤ìŒ reduceì•ˆì—ì„œ ë‹¤ì‹œ filterí•´ì„œ í•´ë‹¹ ìƒí’ˆì˜ ìˆ˜ëŸ‰ì„ ë¶™ì—¬ì„œ ì½”ë”©ì„ í–ˆë‹¤..<br>
(ì§„ì§œ ë¶€ë„ëŸ½ê³  ì§€ì €ë¶„í•˜ê³  ê°œë°œìë‹µì§€ ëª»í•œ ì½”ë“œ.. ğŸ¤ª)

**\*ê¸°ì¡´ì½”ë“œ**

```js
// listItems [ì„ íƒí•œ ìƒí’ˆì˜ ì •ë³´ ë°°ì—´ê°’]
const filteredKey = listItems
  .filter((item) => checkedIds.includes(item.id))
  .map((item) => item.store_key)
  .reduce((acc, cur) => {
    const arr: { [key: string]: number } = acc;

    arr[cur] = listItems.filter((v) => v.store_key === cur)[0]?.quantity;

    return arr;
  }, {});
```

<br>
ê°œë°œí•˜ê³  ë‚˜ì„œ ì½”ë“œê°€ ë„ˆë¬´ ë§ì´ ì•ˆë˜ëŠ”ê²ƒ ê°™ì•„ì„œ ë°°ì—´ì„ ê°ì²´ë¡œ ë°”ê¾¸ëŠ” ë²•ì„ ê²€ìƒ‰í•´ì„œ ìƒˆë¡œìš´ ì½”ë“œë¥¼ ì ìš©í•´ ë³´ì•˜ë‹¤.

```js
const filteredArray = listItems
  .filter((item) => checkedIds.includes(item.id))
  .map((item) => [item.store_key, item.quantity]);
/*
filteredArray ì¶œë ¥ê²°ê³¼
[
  ['99ngh08', 2],
  ['5gxyt1q', 1],
  ['3ifu0ie', 1],
];
*/

const arrayToObject = Object.fromEntries(filteredArray);
/*
arrayToObject ì¶œë ¥ê²°ê³¼
{ 99ngh08: 2, 5gxyt1q: 1, 3ifu0ie: 1 }
*/
```

OMG.. í›¨ì”¬ ê¹”ë”í•œ ì½”ë“œê°€ ì™„ì„±ëë‹¤. (ê°œì¸ì ìœ¼ë¡œ reduceê°€ ë“¤ì–´ê°€ëŠ” ìˆœê°„ ê¹”ë”í•¨ì´ ì‚¬ë¼ì§„ë‹¤ê³  ìƒê°í•˜ëŠ” ì‚¬ëŒ..) <br><br>

## Obejct.fromEntries ?

<div class="blockquote">
    Object.fromEntries(iterable)
</div>  
Object.fromEntries() ë©”ì„œë“œëŠ” í‚¤-ê°’(key-value) ìš”ì†Œë¥¼ ê°–ê³  ìˆëŠ” Arrayë¥¼ ê°ì²´ë¡œ ë°”ê¿”ì¤€ë‹¤. <br>
ë§¤ê°œë³€ìˆ˜ : ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´. Array, Map ë“±ì˜ ë°˜ë³µ ê·œì•½ì„ êµ¬í˜„í•œ ê°ì²´

```js
// ì¸ìë¡œ ë°°ì—´ ë„˜ê²¨ì¤„ ë•Œ
const arr = [['0', 'a'], ['1', 'b'], ['2', 'c']];
const obj = Object.fromEntries(arr);
console.log(obj); // { 0: "a", 1: "b", 2: "c" }

// ì¸ìë¡œ Map ë„˜ê²¨ì¤„ ë•Œ
const entries = new Map(['foo', 'bar'], ['baz', 42]);
const obj = Object.fromEntries(entries);
console.log(obj); // { foo: "bar", baz: 42 }
```

<br>

## ì´ ì™¸ì˜ ë°©ë²•

### 1. Object.assign()
í•´ë‹¹ í¬ìŠ¤íŠ¸(<a href="https://phrygia.github.io/js/2021-09-21-object/" target="_blank">[javascript] Object.assign() & Object.create()</a>)ì—ì„œëŠ” {}ì— ëŒ€í•´ì„œë§Œ ë‹¤ë¤˜ê¸° ë•Œë¬¸ì— ë°°ì—´ì„ ì¸ìë¡œ ë„˜ê²¨ì£¼ë©´ ìë™ìœ¼ë¡œ í‚¤ê°’ì´ ìƒì„±ëœë‹¤ëŠ” ê±¸ ëª°ëë‹¤. ğŸ˜³ <br>

<div class="blockquote">
    Object.assign(target, ...sources)
</div>  
sourceì— ë°°ì—´ì„ ì „ë‹¬í•˜ë©´ 0, 1, 2ì²˜ëŸ¼ indexê°€ ìë™ìœ¼ë¡œ keyê°’ì´ ë˜ê³ , ë°°ì—´ì˜ ìš”ì†Œê°€ valueì¸ ê°ì²´ê°€ ìƒì„±ëœë‹¤.

```js
let arr = ['first', 'second', 'third'];
let obj = Object.assign({}, arr);
console.log(obj); // { 0: 'first', 1: 'second', 2: 'third' }

let arr2 = [{ "id": 1386, "quantity": 1 }, { "id": 1385, "quantity": 2 }];
let obj2 = Object.assign({}, arr2);
console.log(obj2); 
// { 0: { "id": 1386, "quantity": 1 }, 1: { "id": 1385, "quantity": 2 } }
```

<br>

### 2. Spread operator
Spread operatorì„ ì‚¬ìš©í•˜ë©´ ë°°ì—´ì„ ê°ì²´ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤. indexê°€ ìë™ìœ¼ë¡œ keyê°’ì´ ë˜ê³ , ë°°ì—´ì˜ ìš”ì†Œê°€ valueì¸ ê°ì²´ê°€ ìƒì„±ëœë‹¤.

```js
let arr = ['first', 'second', 'third'];
let obj = {...arr}
console.log(obj); // { 0: 'first', 1: 'second', 2: 'third' }

let arr2 = [{ "id": 1386, "quantity": 1 }, { "id": 1385, "quantity": 2 }];
let obj2 = {...arr2}
console.log(obj2); 
// { 0: { "id": 1386, "quantity": 1 }, 1: { "id": 1385, "quantity": 2 } }
```
<br>

### 3. forEach()
Object.assign()ì´ë‚˜ Spread operatorë¥¼ ì‚¬ìš©í•˜ë©´ keyëŠ” ìë™ìœ¼ë¡œ indexê°€ ëœë‹¤. indexê°€ ì•„ë‹Œ íŠ¹ì • keyë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ forEach ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•œë‹¤.
```js
let arr = [{ "id": 1386, "quantity": 1 }, { "id": 1385, "quantity": 2 }];
let obj = {};

arr.forEach((elem, index) => {
  obj['key' + index] = elem;
});

console.log(obj);
// { key0: { "id": 1386, "quantity": 1 }, key1: { "id": 1385, "quantity": 2 } }

```
<br>

### 4. reduce()
ë‚´ê°€ ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í–ˆë˜ reduce.. forEach ì‚¬ìš©.
```js
let arr = [{ "id": 1386, "quantity": 1 }, { "id": 1385, "quantity": 2 }];

let obj = arr.reduce((acc, cur, index) => {
  return {...acc, ['key' + index]: cur};
}, {});

console.log(obj);
// { key0: { "id": 1386, "quantity": 1 }, key1: { "id": 1385, "quantity": 2 } }
```
<br>

ì½”ë”©í•˜ë©´ì„œ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì½”ë”©í•œë‹¤ê³  ëŠë¼ëŠ” ìˆœê°„ì´ ìˆê³ , ì•„ì§ ê¸°ì´ˆì§€ì‹ì´ ë§ì´ ë¶€ì¡±í•˜ë‹¤ê³  ëŠë‚€ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Diveë¥¼ ì—´ì‹¬íˆ ê³µë¶€í•´ì•¼ ê² ë‹¤..

<small class="from add">ì°¸ê³  : <a href="https://codechacha.com/ko/javascript-convert-array-to-object/" target="_blank">https://codechacha.com/ko/javascript-convert-array-to-object/</a><br>
<a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries" target="_blank">MDN</a>
</small><br>
