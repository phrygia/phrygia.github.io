{"componentChunkName":"component---src-templates-post-jsx","path":"/2022-08-15-recoil/","result":{"data":{"site":{"siteMetadata":{"title":"phrygia dev.log"}},"markdownRemark":{"id":"0282216d-5c95-5f37-b0d3-75173c2d0f02","excerpt":"회사의 새로운 프로젝트에서 React query와 함께 Recoil을 써보고 싶다는 생각이 들었다. \n우리 회사는 전역적으로 관리할 상태들이 많지 않아 쉽게사용할 수 있는 Context API를 사용하고 있다. \n나는 React를 공부할때 Redux를 사용해봤기 때문에 Redux의 복잡한 코드가 너무 싫었다. 전역적으로 사용하기 위한 초기 세팅도 복잡하고…","html":"<p>회사의 새로운 프로젝트에서 React query와 함께 Recoil을 써보고 싶다는 생각이 들었다. <br>\n우리 회사는 전역적으로 관리할 상태들이 많지 않아 쉽게사용할 수 있는 Context API를 사용하고 있다. <br>\n나는 React를 공부할때 Redux를 사용해봤기 때문에 Redux의 복잡한 코드가 너무 싫었다. 전역적으로 사용하기 위한 초기 세팅도 복잡하고 여러모로 나와 맞지 않는다는 생각이 들었다. devtools가 잘 되어있기 때문에 어떤 액션이 취해졌고 데이터가 어떻게 변경되었는지에 대한 디버깅이 유리하다는 큰 장점이 있지만 많은 상태관리가 필요하지 않은 우리 회사의 상황에서 좋아하지도 않는 Redux를 사용하고 싶지는 않았다. <br>\nContext API를 사용해도 되지만 React query와 Recoil의 궁합이 좋다는 글을 Recoil을 써볼까라고 쉽게한 생각이 Recoil의 가벼움과 React스러운 부분이 마음에 들어 공부해서 꼭 사용해보자고 생각하는 계기가 되었다.</p>\n<h2>Recoil?</h2>\n<blockquote>\n<p><code class=\"language-text\">A state management library for React.</code> - React를 위한 상태관리 라이브러리 <br> 1. 작고 React스러운 <br> 2. 데이터 흐름 그래프 <br> 3.\n교차하는 앱 관찰 <br></p>\n</blockquote>\n<p>Recoil은 React를 만든 메타(페이스북)에서 만든 상태관리 라이브러리이다. React를 만든 회사에서 직접 상태관리 라이브러리를 만들어 주었으니 React스러운건 당연하다고 할 수 밖에 없다.\n유명한 상태관리 라이브러리인 Redux, Mobx 등이 있지만 상대적으로 후발 주자인 Recoil을 선택한 이유를 나열해 보자면, <br></p>\n<ol>\n<li>React를 사용해본 개발자라면 상대적으로 배우기 쉽다. <br>\n특히 Hooks를 사용하는 프론트 개발자들이라면! Redux가 초기 세팅부터 숨이 막히는 반면 Recoil은 RecoilRoot로 최상위에 감싸기만 하면 되는 등 사용이 비교적 쉽다.</li>\n<li>Redux에서 비동기통신의 Success/fail의 결과에 따른 state를 관리하기 위해선 redux-thunk, redux-saga같은 미들웨어를 사용하여 구현해야 하는데, Recoil은 미들웨어의 사용없이 쉽게 비동기 로직을 구현할 수 있다.(Suspense에 위임하여 비동기 처리)</li>\n<li>React스럽다. <br>\nstate의 값을 읽고 쓰기위해 useState와 비슷한 [get, set] 형태를 사용하며 빠르고 유연한 상태를 유지한다.</li>\n<li>자체 캐싱기능으로 빠른 비동기 데이터 처리가 가능하다.</li>\n<li>상태를 분산적으로 둘 수 있기 때문에 코드 스플리팅이 가능하다.</li>\n</ol>\n<h2>Recoil 시작하기</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// recoil 설치</span>\nnpm install recoil\nyarn add recoil\n\n<span class=\"token comment\">// recoil 시작 - index.jsx</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom/client\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> RecoilRoot <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'recoil'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>RecoilRoot<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>RecoilRoot<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Recoil 핵심 개념</h2>\n<p>Recoil에는 다양한 API가 존재하지만 공식문서에서 소개하는 기본 API는 크게 2가지가 있다. 바로 <a href=\"https://recoiljs.org/ko/docs/basic-tutorial/atoms\" target=\"_blank\">Atoms</a>와 <a href=\"https://recoiljs.org/ko/docs/basic-tutorial/selectors\" target=\"_blank\">Selectors</a>다.\n<img src='https://ichi.pro/assets/images/max/724/0*k18qFfsSO5qk27Vc.png'>\n<small class=\"from\">이미지 출처 : <a href=\"https://ichi.pro/ko/recoil-js-dansunhwa-doen-reactleul-wihan-goseongneung-sangtae-gwanli-223553121461863\" target=\"_blank\">https://ichi.pro/ko/recoil-js-dansunhwa-doen-reactleul-wihan-goseongneung-sangtae-gwanli-223553121461863</a></small> <br>\nRecoil은 방향이 있는 그래프가 직교한 형태로 리액트 컴포넌트 트리에 붙어있게 만들어 준다. 이 그래프의 루트에서부터 상태 변화가 일어나는데 이 루트를 우리는 아톰(atom)이라고 한다. 그리고 이 과정은 순수함수를 통해서 일어나며 이를 선택자(selector)라고 한다.</p>\n<h3>1. Atoms</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACRElEQVR42mWSTWsTURSG88sEF27Uvf4AcS24EBfu/AEKgpYi2k2hLgShtBVaF7WQ1iRNQ5JO2uajmWQyH5lMMt8fmeTxzkgLNRcO93LPvQ/vOect8N9ainAUH1fzMZSAiR5iTmJsL0GbBthBhGI7uFGE6dv5n2L5kFdPHvHpzWsKq8AlSslAqY65rM6olywqtRmtns1x2+R8ZFJUVBrGiEO1RcKCtfVNHj94yv17D+8Cl8tlvs8UB+3SQu97XLddJMmhr9s0FQNJ1WmMNCRDpjrq5O+//zjg2ct3PH/xlkIGSdOU+Xx+G7bhMtUFrKbRadv0uha1jsqVpnOharTUIT1LR3WtO0KyvRCGIdPpjCiKyc6+HzCWJ5gC2mkaNCtDzlp9TuoDJFmlKneQhjLKxET3pregm8hL9jwvV5mtNFngTwJmRoSqBTRrfSrNLrWmzrmscWVqYiAJ5wOZ0XS8qjCHCJjrevnlPE4xr2ecFoc0JNErUWK9OeBU6lE866GYFqYQ0J2Mkccq8yS5M4PbocQiEcUxqQBe/O6z8bHG150y60dH/Go12Nsrsrsls7VbYbtUZl9q0LFGJKFolbDQCjAzYDxPsHWH2o7Ml/UOG/ttvjVKHKh1utUh2+8vWfvc5sPPKpu1Y06Nf1MOgkAIivPzim2yfjqGj9zz0ayQgWUxCR1iN6ZdNjkpjvlzpVEadBnaYxbpgnSR4jjijahwxdhZPz3fF8mIOLqJOFeQLhORF1ZOhb3iOUks2iTymUMylVEY8ReiFzD8zahXbAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Atom - https://www.youtube.com/watch?v=_ISAA_Jt9kI' title='' src='/static/0a4cfe74960f0bb810ec995a62122af8/ca1dc/2022-08-15-recoil.png' srcset='/static/0a4cfe74960f0bb810ec995a62122af8/e7570/2022-08-15-recoil.png 170w,\n/static/0a4cfe74960f0bb810ec995a62122af8/f46e7/2022-08-15-recoil.png 340w,\n/static/0a4cfe74960f0bb810ec995a62122af8/ca1dc/2022-08-15-recoil.png 680w,\n/static/0a4cfe74960f0bb810ec995a62122af8/02d09/2022-08-15-recoil.png 1020w,\n/static/0a4cfe74960f0bb810ec995a62122af8/9d567/2022-08-15-recoil.png 1360w,\n/static/0a4cfe74960f0bb810ec995a62122af8/cae0a/2022-08-15-recoil.png 3024w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Atom - https://www.youtube.com/watch?v=_ISAA_Jt9kI</figcaption>\n  </figure></p>\n<p>Atom은 <strong>하나의 작은 상태 단위</strong>로 <strong>업데이트 및 구독이 가능</strong>하다. <br>\nAtom이 업데이트 되면 구독하고 있는 컴포넌트들은 리렌더링이 일어나며 하나의 Atom을 구독하는 컴포넌트가 여러개라면 그 컴포넌트들은 상태를 공유한다. <br>\n(Atom은 비눗방울로 추상화 할 수 있는데 React 애플리케이션의 상단에 Atom이 비눗방울처럼 떠나닌다고 생각해보자. 개발을 하다가 어떤 비눗방울 (상태)이 필요하다면 해당하는 비눗방울만 선택해서 사용할 수 있다.) <br></p>\n<p>전역적으로 사용될 state인 비눗방울(atom)을 생성하려면,</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// state 파일 - store.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> atom <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> textState <span class=\"token operator\">=</span> <span class=\"token function\">atom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"textState\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// unique key</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// TodoList.jsx</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSetRecoilState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">TextInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>text<span class=\"token punctuation\">,</span> setText<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useRecoilState</span><span class=\"token punctuation\">(</span>textState<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onChange</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onChange<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>br <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token literal-property property\">Echo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TextInput</code></pre></div>\n<p><code class=\"language-text\">atom</code>에 고유한 key와 default값을 설정하고 컴포넌트에서 <code class=\"language-text\">useRecoilState</code>를 사용하여 해당 state를 [get, set] 할 수 있다. (이때 여러 컴포넌트에서 textState를 구독하고 있다면 해당 컴포넌트들은 상태를 공유한다.) <br><br></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// TodoList.jsx</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSetRecoilState<span class=\"token punctuation\">,</span> useRecoilValue <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">TextInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> setText <span class=\"token operator\">=</span> <span class=\"token function\">useRecoilState</span><span class=\"token punctuation\">(</span>textState<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token function\">useRecoilValue</span><span class=\"token punctuation\">(</span>textState<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onChange</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>onChange<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>br <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token literal-property property\">Echo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> TextInput</code></pre></div>\n<p><code class=\"language-text\">useSetRecoilState</code>로 [get, set]을 모두 사용할 수 있지만, <code class=\"language-text\">useRcoilValue</code>를 사용하면 get과 set을 분리 할 수 있다. <br>\n특정 state의 값을 참고만 할때 <code class=\"language-text\">useRcoilValue</code>를 사용하자.</p>\n<h3>2. Selectors</h3>\n<p><code class=\"language-text\">selector</code>는 <code class=\"language-text\">atom</code>이나 다른 <code class=\"language-text\">selector</code>들을 구독해서 <code class=\"language-text\">파생된 상태(derived state)</code>를 리턴하는 순수 함수이다. <br>\n파생된 상태 : <code class=\"language-text\">atom</code>을 원하는대로 변형해 유도된 새로운 값.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// store.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> purchasedBreadAtom <span class=\"token operator\">=</span> <span class=\"token function\">atom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"purchased Bread\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> <span class=\"token number\">000</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ....</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> purchasedBeverageAtom <span class=\"token operator\">=</span> <span class=\"token function\">atom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"purchased Beverage\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> <span class=\"token number\">000</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ....</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// PriceResult.jsx</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> selector<span class=\"token punctuation\">,</span> useRecoilValue <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"recoil\"</span>\n\n<span class=\"token keyword\">const</span> priceSelector <span class=\"token operator\">=</span> <span class=\"token function\">selector</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">\"priceSelector\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> get <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> bread <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>purchasedBreadAtom<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> beverage <span class=\"token operator\">=</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>purchasedBeverageAtom<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>bread<span class=\"token operator\">?.</span>price <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>beverage<span class=\"token operator\">?.</span>price <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">selector</code>는 내부적으로 함수에서 get을 매개변수로 넘겨서 사용할 수 있는데, get 메서드는 <code class=\"language-text\">atom</code>과 다른 <code class=\"language-text\">selector</code>에 접근할 수 있다. <br>\n다른 <code class=\"language-text\">atom</code>이나 <code class=\"language-text\">selector</code>에 접근할 때 마다 의존성 관계가 만들어져서 다른 <code class=\"language-text\">atom</code>을 업데이트하거나 <code class=\"language-text\">selector</code>가 다시 계산이 되기도 한다. <code class=\"language-text\">selector</code>는 <code class=\"language-text\">useRecoilValue</code>로 값을 읽을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">PriceResult</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> priceReulsts <span class=\"token operator\">=</span> <span class=\"token function\">useRecoilValue</span><span class=\"token punctuation\">(</span>priceSelector<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>bread Price <span class=\"token operator\">+</span> beverage Price <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>priceReulsts<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> PriceResult</code></pre></div>\n<p>기본적인 Recoil API에 대해 알아보았다. 다음에는 로그인했을 때 사용자의 정보를 Recoil을 이용해 전역 상태로 유지하는 방법에 대해 공부해 봐야 겠다.<br></p>\n<p><small class=\"from add\">참고 : <a href=\"https://recoiljs.org/ko/\" target=\"_blank\">https://recoiljs.org/ko/</a><br>\n<a href=\"https://devowen.com/366\" taget=\"_blank\">https://devowen.com/366</a><br>\n<a href=\"https://tech.osci.kr/2022/06/16/recoil-state-management-of-react/\" target=\"_blank\">https://tech.osci.kr/2022/06/16/recoil-state-management-of-react/</a><br>\n<a href=\"https://blog.bitsrc.io/react-trying-recoil-js-d505214373c6\" target=\"_blank\">https://blog.bitsrc.io/react-trying-recoil-js-d505214373c6</a>\n</small></p>","frontmatter":{"title":"[react] Recoil 상태관리 라이브러리","date":"August 15, 2022","update":null,"tags":["react","recoil"],"series":null},"fields":{"slug":"/2022-08-15-recoil/","readingTime":{"minutes":8.645}}},"seriesList":{"edges":[{"node":{"id":"a49ba7fe-2298-5593-99e5-fc94628ca08c","fields":{"slug":"/2021-09-21-vue-clap-button/"},"frontmatter":{"title":"[vue] 박수치기 버튼 만들기 (vue clap button)"}}},{"node":{"id":"86892888-c819-59c7-a91e-8dba2c018aa3","fields":{"slug":"/2021-09-21-sematic-tag/"},"frontmatter":{"title":"[html] Semantic Tag Layout (시맨틱 태그)"}}},{"node":{"id":"0cf44020-e73b-5d81-97ab-eb71a6a2f774","fields":{"slug":"/2021-09-21-javascript-object/"},"frontmatter":{"title":"[javascript] 객체 수정 제어 : preventExtensions(), seal(), freeze()"}}},{"node":{"id":"87f26728-3fd2-5307-914c-b108135a8fdd","fields":{"slug":"/2021-09-21-rwd-awd/"},"frontmatter":{"title":"[web] 반응형(RWD)웹과 적응형(AWD)웹"}}},{"node":{"id":"e5af2a5d-1fa4-5015-b69d-d3df92d26d5c","fields":{"slug":"/2021-09-21-react-modal/"},"frontmatter":{"title":"[react] 모달 팝업창 만들기 (react modal)"}}},{"node":{"id":"e4a5dcd7-3dab-593f-832d-c6d0b249a7f6","fields":{"slug":"/2021-09-21-function-prototype/"},"frontmatter":{"title":"[javascript] 함수의 call, apply, bind 메서드"}}},{"node":{"id":"5f56739f-415e-566a-9e1b-e5b385ba25d3","fields":{"slug":"/2021-09-21-scroll/"},"frontmatter":{"title":"[html] 특정 영역으로 스크롤 이동 - 앵커기능(anchor) vs data 속성"}}},{"node":{"id":"a038fa37-3752-59b0-83e1-77252e300845","fields":{"slug":"/2021-09-21-object/"},"frontmatter":{"title":"[javascript] Object.assign() & Object.create()"}}},{"node":{"id":"9cc5e665-eee9-55ba-bc71-f83945e975df","fields":{"slug":"/2021-09-21-scope/"},"frontmatter":{"title":"[javascript] execution context, scope (실행 컨텍스트, 스코프)"}}},{"node":{"id":"d1fa176c-5bf0-5be0-a723-0b08fc3de5d1","fields":{"slug":"/2021-09-21-hoisting/"},"frontmatter":{"title":"[javascript] hoisting (호이스팅)"}}},{"node":{"id":"327dc0b1-3014-5570-8752-54a472ce4dcb","fields":{"slug":"/2021-09-21-closure/"},"frontmatter":{"title":"[javascript] closure (클로저)"}}},{"node":{"id":"cdaec2e2-37a5-515e-85f9-3cc8150d62b5","fields":{"slug":"/2021-10-26-gaysby/"},"frontmatter":{"title":"[gatsby] Google Search Console과 Analytics 추가하기"}}},{"node":{"id":"d39b84bd-dd38-56db-ae71-e1536a6f66bb","fields":{"slug":"/2021-10-27-react-firebase/"},"frontmatter":{"title":"[react] firebase 프로젝트 배포하기"}}},{"node":{"id":"39469573-8887-50f5-959e-048e8fbac3d9","fields":{"slug":"/2021-10-30-var-let-const/"},"frontmatter":{"title":"[javascript] var, let, const"}}},{"node":{"id":"1d0b228b-a81b-5692-96b9-876668a4bb8d","fields":{"slug":"/2021-11-09-algorithm/"},"frontmatter":{"title":"[algorithm] 약수, 소수, 최대공약수, 최소공배수"}}},{"node":{"id":"11a3e5c7-dd76-5f0a-95ac-eef303421178","fields":{"slug":"/2021-11-25-mui-react/"},"frontmatter":{"title":"[react] Material ui 템플릿 (Mui) 으로 회원가입 페이지 만들기 "}}},{"node":{"id":"66c4b29a-927c-5d55-b1b5-9c3f8a2e08ea","fields":{"slug":"/2021-11-28-algorithm/"},"frontmatter":{"title":"[algorithm] LeetCode 139. Word Break "}}},{"node":{"id":"b0ff1b19-b212-5308-a03d-549609b1cbf5","fields":{"slug":"/2021-12-02-bigO/"},"frontmatter":{"title":"[algorithm] 자바스크립트 빅오 표기법 (Big-O)"}}},{"node":{"id":"7b77461b-7632-57fa-ae82-674d2e5873ec","fields":{"slug":"/2021-12-07-sorting-algorithm/"},"frontmatter":{"title":"[algorithm] 정렬 알고리즘 - 버블, 삽입, 선택, 병합, 퀵"}}},{"node":{"id":"b8d3db01-c9d0-5533-bce9-4852ce246694","fields":{"slug":"/2021-12-12-gaysby/"},"frontmatter":{"title":"[gatsby] gaysby로 TIL만들기"}}},{"node":{"id":"9a40e149-1d55-55e8-9377-47d54cf324d6","fields":{"slug":"/2021-12-14-codility/"},"frontmatter":{"title":"[algorithm] Codility Lesson 4. MissingInteger"}}},{"node":{"id":"82820512-6ca7-5276-a5b3-1325a39344d1","fields":{"slug":"/2021-12-22-react-redux-persist/"},"frontmatter":{"title":"[react] react프로젝트에 redux-persist 적용하기"}}},{"node":{"id":"f29620f6-3bd9-56eb-8239-a31f00b3363d","fields":{"slug":"/2022-01-02-aws/"},"frontmatter":{"title":"[aws] PuTTY로 윈도우에서 aws ec2 ssh 접속하기"}}},{"node":{"id":"c056e9c2-9b42-5395-885a-63f763406f36","fields":{"slug":"/2022-01-27-styled-components/"},"frontmatter":{"title":"[react] styled-components 반응형 스타일 설정하기"}}},{"node":{"id":"41c02eb7-f88d-5bd8-a3cf-593a93056f95","fields":{"slug":"/2022-02-06-scss-for/"},"frontmatter":{"title":"[scss] @for ~ through / to 차이점"}}},{"node":{"id":"6a9e7416-f1ad-5ac8-97a1-f94e647cd5fa","fields":{"slug":"/2022-02-18-react/"},"frontmatter":{"title":"[react] CRA없이 React환경 구축하기 (웹팩, 바벨)"}}},{"node":{"id":"527df9ef-44b6-5e3b-9249-2b2b3fa1ac1c","fields":{"slug":"/2022-03-03-react-modal/"},"frontmatter":{"title":"[react] transition이 적용된 Modal 만들기"}}},{"node":{"id":"2f8812c5-dbf6-582e-9d44-51f2023d3b4c","fields":{"slug":"/2022-04-05-react/"},"frontmatter":{"title":"[react] react 코딩 컨벤션"}}},{"node":{"id":"da92f528-b51e-5054-87c5-1f36cec6a97b","fields":{"slug":"/2022-03-09/"},"frontmatter":{"title":"[diary] 프론트엔드 신입 면접 준비하기"}}},{"node":{"id":"b8e04d5f-aab0-5c87-bdd0-7fd3bea4b241","fields":{"slug":"/2022-04-25-git-basic/"},"frontmatter":{"title":"[git] git 기본 사용법"}}},{"node":{"id":"fcdfde95-211e-5fae-b419-b798b39c230d","fields":{"slug":"/2022-04-25-browsers-repository/"},"frontmatter":{"title":"[web] Storage vs Cookie"}}},{"node":{"id":"d1e364e6-edec-506d-b919-41d02b91b667","fields":{"slug":"/2022-04-25-redux-saga/"},"frontmatter":{"title":"[redux] Redux Saga"}}},{"node":{"id":"cabe57d4-a242-5b13-82b0-43ed5458cd03","fields":{"slug":"/2022-04-25-hooks/"},"frontmatter":{"title":"[react] React Hooks (리액트 훅스)"}}},{"node":{"id":"f7ae8bd6-d30a-52ea-bc25-4cb6dd900280","fields":{"slug":"/2022-04-25-virtual-dom/"},"frontmatter":{"title":"[react] Virtual Dom (가상 돔)"}}},{"node":{"id":"8f80827a-ba2b-55b7-9ed1-148827c19873","fields":{"slug":"/2022-04-25-async-await/"},"frontmatter":{"title":"[javascript] Async await"}}},{"node":{"id":"02581db7-7b59-5b5b-ad64-5b7f093151cd","fields":{"slug":"/2022-04-25-js-runtime/"},"frontmatter":{"title":"[javascript] 자바스크립트 런타임"}}},{"node":{"id":"3b3084d4-9cdc-5003-8eb6-7449b17bb244","fields":{"slug":"/2022-04-25-promise/"},"frontmatter":{"title":"[javascript] Promise"}}},{"node":{"id":"633854f2-750f-5d46-b542-65323e325c47","fields":{"slug":"/2022-04-25-throttle-debounce/"},"frontmatter":{"title":"[javascript] throttling과 debouncing"}}},{"node":{"id":"45b950b8-83ca-561c-832d-103769b353a1","fields":{"slug":"/2022-04-25-url-web/"},"frontmatter":{"title":"[web] 브라우저에 URL을 입력했을 때 발생하는 일들"}}},{"node":{"id":"9e551fd8-ac87-5bf1-b009-76368e5d010e","fields":{"slug":"/2022-06-12/"},"frontmatter":{"title":"[diary] 성장하는 개발자"}}},{"node":{"id":"8250c92a-0f9d-5c47-be28-9cb616399585","fields":{"slug":"/2022-08-06-react-query/"},"frontmatter":{"title":"[react] React Query 기초"}}},{"node":{"id":"0282216d-5c95-5f37-b0d3-75173c2d0f02","fields":{"slug":"/2022-08-15-recoil/"},"frontmatter":{"title":"[react] Recoil 상태관리 라이브러리"}}},{"node":{"id":"4cf7e012-6c31-5681-a23e-f451f55f9ef3","fields":{"slug":"/2022-11-06-nextjs-13/"},"frontmatter":{"title":"[nextjs] Next.js 13"}}},{"node":{"id":"9cedfe8b-a05b-5bb1-b717-3b12ebae6193","fields":{"slug":"/2023-01-08/"},"frontmatter":{"title":"[diary] 2022년 회고"}}},{"node":{"id":"7571a5e0-4bbc-5824-9acf-d483240a8a69","fields":{"slug":"/2023-01-23-array-to-object/"},"frontmatter":{"title":"[javascript] 배열에서 특정값을 선택해서 객체로 변환하기 (배열을 객체로)"}}},{"node":{"id":"22dc2db7-3b64-579b-ab94-a1f2e27de264","fields":{"slug":"/2023-03-03-git/"},"frontmatter":{"title":"[git] 실무에서 사용했던 git 정리"}}},{"node":{"id":"2c4d88b2-d6fa-5445-949e-5764e2226ca5","fields":{"slug":"/2023-08-15-vercel-node-version-update/"},"frontmatter":{"title":"[nextjs] nextjs node버전 업데이트 여정 (tailwind custom class error)"}}},{"node":{"id":"3c536648-1dae-55d5-8a0a-4dd5655f02be","fields":{"slug":"/2023-12-11-npm-install/"},"frontmatter":{"title":"[npm/yarn] 한 프로젝트에서 같은 라이브러리 다른 버전 설치하기"}}}]},"previous":{"fields":{"slug":"/2022-08-06-react-query/"},"frontmatter":{"title":"[react] React Query 기초"}},"next":{"fields":{"slug":"/2022-11-06-nextjs-13/"},"frontmatter":{"title":"[nextjs] Next.js 13"}}},"pageContext":{"id":"0282216d-5c95-5f37-b0d3-75173c2d0f02","series":null,"previousPostId":"8250c92a-0f9d-5c47-be28-9cb616399585","nextPostId":"4cf7e012-6c31-5681-a23e-f451f55f9ef3"}},"staticQueryHashes":[],"slicesMap":{}}