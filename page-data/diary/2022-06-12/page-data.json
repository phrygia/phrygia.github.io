{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/diary/2022-06-12/",
    "result": {"data":{"cur":{"id":"93292a80-924d-519f-9ccd-f12502fdf56c","html":"<p>나는 나이많은 비전공자 개발자이기 때문에 항상 어떻게 해야 더 빨리 더 효율적으로 좋은 개발자가 될 지 고민하고 있다. 개발자는 평생 공부해야 하는 직업이기 때문에 입사 전 월요일에는 뭐 공부하고 주말에는 뭐 공부하자라는 식으로 세세한 계획을 세웠었다. 현실은 출퇴근 여행자라 긴 출퇴근 시간에 완벽하게 적응하지 못했고 퇴근하면 4시간 정도후에 잠들어야 한다. (워라벨 붕괴) 또한 출퇴근 길에 공부를 하려고 했으나, 지하철 소음에 적응하지 못해 공부에 집중이 되지 않고 있어 공부에 진척이 없어 초초한 마음이 생겼다. 😨 (이건 익숙해지면 시간이 해결해 줄 거라고 믿는다.) <br></p>\n<p>스타트업 개발자로 일하면서 개발만 잘하는 것이 아닌 사람과 사람사이의 커뮤니케이션이 중요하다는 것을 다시 한번 깨닫게 되었다. 우리 회사 대표님왈) 개발팀 PM님은 개발도 잘하지만 타 부서의 일에 대한 지식도 높아 커뮤니케이션 능력이 뛰어나고 공감능력도 좋아 두루두루 잘 어울리는 사람이라고 하셨다. <br></p>\n<p>PM님은 어린아이 아빠신데 육아도 하시고 직장생활도 잘하시는 체력과 마인드, 정신력?이 대단하다고 생각했다. 아직 근로계약서에 잉크도 안마른 신입이 보기에 정말 대단해 보인다. 특히 사소한걸 여쭤봐도 굉장히 친절하셔서 덤벙거리는 내가 질문을 할 때 굉장히 감사하다. 🙏 <br> <br></p>\n<p>입사한지 이제 2주를 넘겼지만 이렇게 출퇴근 시간에 집중하지 못하고 퇴근후에 공부하지 못하는 내가 답답하고 초조한 마음에 어떻게 하면 더 성장하는 개발자가 될 수 있을까 고민하던 차에 평소 즐겨보는 드림코딩 엘리님의 영상중 <a href=\"https://www.youtube.com/watch?v=T7y6Hl0YZ14\" target=\"_blank\">성장하는 개발자 (시니어 개발자, 테크 리더로 성장한 개발 노트공개) 📓🖋</a>라는 영상을 다시 보고 마음을 잡아보는 계기를 가지려고 한다. (예전에 봤었다.)<br><br></p>\n<p>영상에서는 총 5가지를 제안하고 있다. <bt></p>\n<ol>\n<li>실수를 통해 배우고 성장하자</li>\n<li>멘토를 찾아라 - 멘토찾기는 어렵기 때문에 좀 더 지켜봐야 겠다.</li>\n<li>피드백을 받아라 - 아직 일한지 얼마 되지 않아 받을 피드백이 없을 것 같다.</li>\n<li>성장 다이어리를 통해 방향 설정</li>\n<li>일관성, 엄청난 컴파운딩 효과 - 별거 아닌 것처럼 보이는 작은 것들이 매일매일 모이면 엄청난 효과를 가지고 오는것으로 포기하지 않고 매일 꾸준히 하면 엄청나져 있을 것!!</li>\n</ol>\n<p>이 중, 나에게 적용할 수 있는게 무엇인지 생각해 보았고 총 2가지를 실천해 보기로 마음먹었다. <br><br></p>\n<h2 id=\"1-실수를-통해-배우고-성장하자\" style=\"position:relative;\"><a href=\"#1-%EC%8B%A4%EC%88%98%EB%A5%BC-%ED%86%B5%ED%95%B4-%EB%B0%B0%EC%9A%B0%EA%B3%A0-%EC%84%B1%EC%9E%A5%ED%95%98%EC%9E%90\" aria-label=\"1 실수를 통해 배우고 성장하자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 실수를 통해 배우고 성장하자</h2>\n<ul>\n<li>실수는 누구나 할 수 있지만 대부분의 사람들은 내가 어떤 실수를 했는지 모르고 지나가거나 또는 너무 부끄러워서 빨리 잊어버리려고만 한다. <br></li>\n<li>실수를 통해서 내가 어떻게 더 개선해 볼 수 있을지 생각해 보고 또 그 실수를 통해서 배워 가겠다는 도전적인 마음가짐이 있다면 더 빠르게 성장할 수 있다. <br></li>\n<li>⭐ 아무리 급하더라도 정확하게 문제를 분석하고 문제를 해결한 다음에는 꼼꼼하게 문제를 검증하는 시간을 가져야 겠다. (성격 급한 나에게 정말 필요한 요소)</li>\n</ul>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1275px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a95a43d5e237754cfc7a47d46d45a05a/d5412/mistakes.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 101%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAIDAQQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAenXvYImaMQbAn//xAAYEAEBAQEBAAAAAAAAAAAAAAABAgAQEv/aAAgBAQABBQKyvbF6BIevDf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAEEAwAAAAAAAAAAAAAAAAABESAxIXFy/9oACAEBAAY/AsVspW6Eef8A/8QAHhABAAICAQUAAAAAAAAAAAAAAQARITEQQVFhodH/2gAIAQEAAT8he0J7fku47Q6PEIbWGbhuBWg41ls0n//aAAwDAQACAAMAAAAQXM+A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAwEBPxCLBn//xAAVEQEBAAAAAAAAAAAAAAAAAAARIP/aAAgBAgEBPxAj/8QAGhABAQADAQEAAAAAAAAAAAAAAREAITFBUf/aAAgBAQABPxBr0Aus6pPGnm64u2bPjfTfevdQMRNEKVuBFBn3DVG/bhzNKwDjiUrn/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"실수들\"\n        title=\"실수들\"\n        src=\"/static/a95a43d5e237754cfc7a47d46d45a05a/d5412/mistakes.jpg\"\n        srcset=\"/static/a95a43d5e237754cfc7a47d46d45a05a/41099/mistakes.jpg 500w,\n/static/a95a43d5e237754cfc7a47d46d45a05a/a2510/mistakes.jpg 1000w,\n/static/a95a43d5e237754cfc7a47d46d45a05a/d5412/mistakes.jpg 1275w\"\n        sizes=\"(max-width: 1275px) 100vw, 1275px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> <br>\n내가 노션에 기록한 실수들이다. 일을 시작하기 전부터 쓴건데 그땐 혼자개발공부를 할 때라 딱히 실수 인지도 몰랐던 부분이 많아 기록이 많이 없다. (요즘은 일하면서 매일 반성한다 😂) <br><br></p>\n<h2 id=\"2-성장-다이어리를-통해-방향-설정\" style=\"position:relative;\"><a href=\"#2-%EC%84%B1%EC%9E%A5-%EB%8B%A4%EC%9D%B4%EC%96%B4%EB%A6%AC%EB%A5%BC-%ED%86%B5%ED%95%B4-%EB%B0%A9%ED%96%A5-%EC%84%A4%EC%A0%95\" aria-label=\"2 성장 다이어리를 통해 방향 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 성장 다이어리를 통해 방향 설정</h2>\n<p>영상에서는 내가 원하는 것을 명확하게 찾는 것과 다른 사람과의 대화를 통해서 인상이 깊거나 가슴을 뛰게 만드는 그런 순간들을 기록해 둔다고 하셨는데 내가 종이 다이어리에 기록하는 것과 비슷하기 때문에 <u>평소 기술관련 계획이나 스케줄 관리 기록 등</u>이 나의 성장다이어리라고 생각되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1492px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0be6dc738a1579e5d7cd2a2dcae45528/f4bfa/grow.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB2QZUBf/EABcQAQEBAQAAAAAAAAAAAAAAAAEAAiL/2gAIAQEAAQUCdRrlS//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/Aq//xAAZEAACAwEAAAAAAAAAAAAAAAAAEQEhQTH/2gAIAQEAAT8hjXBHrdH7R//aAAwDAQACAAMAAAAQD8//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBH/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QV//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExQVFh/9oACAEBAAE/ECUBa5ZQCAdF7E529gNz/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"성장\"\n        title=\"성장\"\n        src=\"/static/0be6dc738a1579e5d7cd2a2dcae45528/f4bfa/grow.jpg\"\n        srcset=\"/static/0be6dc738a1579e5d7cd2a2dcae45528/41099/grow.jpg 500w,\n/static/0be6dc738a1579e5d7cd2a2dcae45528/a2510/grow.jpg 1000w,\n/static/0be6dc738a1579e5d7cd2a2dcae45528/f4bfa/grow.jpg 1492w\"\n        sizes=\"(max-width: 1492px) 100vw, 1492px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> <br>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1492px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a3813d3c3b3f6411a704e341fcc6c029/f4bfa/grow-2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHWMpBf/8QAGRAAAQUAAAAAAAAAAAAAAAAAAQACEiIx/9oACAEBAAEFAi5Sqd//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAEAAwEAAAAAAAAAAAAAAAAAASExQf/aAAgBAQAGPwLUW4//xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhkdH/2gAIAQEAAT8hXuOkJUD3wP/aAAwDAQACAAMAAAAQjA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABACERQVFhgf/aAAgBAQABPxBPQNIICtbDN8S0H1lP/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"성장\"\n        title=\"성장\"\n        src=\"/static/a3813d3c3b3f6411a704e341fcc6c029/f4bfa/grow-2.jpg\"\n        srcset=\"/static/a3813d3c3b3f6411a704e341fcc6c029/41099/grow-2.jpg 500w,\n/static/a3813d3c3b3f6411a704e341fcc6c029/a2510/grow-2.jpg 1000w,\n/static/a3813d3c3b3f6411a704e341fcc6c029/f4bfa/grow-2.jpg 1492w\"\n        sizes=\"(max-width: 1492px) 100vw, 1492px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span> <br></p>\n<p>위의 2가지와 꾸준한 스터디를 통해 개발자의 소양을 기른다면 5번의 컴파운딩 효과로 인해 꾸준히 성장하는 주니어 개발자가 될 수 있다고 믿는다. <br>\n오랜만에 하는 포스팅도 새로운 계기가 된 것 같다. (꾸준히 올리자..) <br>\n앞으로 내 실수를 통해 깨우침을 느끼고 성장 다이어리로 내 성장력의 방향성과 원동력을 끌어올려봐야 겠다.\n<br><br></p>","excerpt":"나는 나이많은 비전공자 개발자이기 때문에 항상 어떻게 해야 더 빨리 더 효율적으로 좋은 개발자가 될 지 고민하고 있다. 개발자는 평생 공부해야 하는 직업이기 때문에 입사 전 월요일에는 뭐 공부하고 주말에는 뭐 공부하자라는 식으로 세세한 계획을 세웠었다. 현실은 출퇴근 여행자라 긴 출퇴근 시간에 완벽하게 적응하지 못했고 퇴근하면 4시간 정도후에 잠들어야 한다. (워라벨 붕괴) 또한 출퇴근 길에 공부를 하려고 했으나, 지하철 소음에 적응하지 못해 공부에 집중이 되지 않고 있어 공부에 진척이 없어 초초한 마음이 생겼다. 😨 (이건 익숙해지면 시간이 해결해 줄 거라고 믿는다.)  스타트업 개발자로 일하면서 개발만 잘하는 것이 아닌 사람과 사람사이의 커뮤니케이션이 중요하다는 것을 다시 한번 깨닫게 되었다. 우리 회사 대표님왈) 개발팀 PM님은 개발도 잘하지만 타 부서의 일에 대한 지식도 높아 커뮤니케이션 능력이 뛰어나고 공감능력도 좋아 두루두루 잘 어울리는 사람이라고 하셨다.  PM님은 어…","frontmatter":{"date":"June 12, 2022","title":"[diary] 성장하는 개발자","categories":"diary","author":"phrygia","emoji":"📓"},"fields":{"slug":"/diary/2022-06-12/"}},"next":{"id":"b1f65674-309b-5bf6-8092-aae68afe1bb3","html":"<p>주소창에 URL을 입력하면,</p>\n<ol>\n<li><strong>DNS 서버 검색</strong> <br>\r\n브라우저는 DNS(Domain Name System)를 운영하는 서버를 통해 서버의 실제 주소인 IP 주소를 요청한다. 매핑되는 IP 주소가 있다면 사용자가 입력한 URL 정보와 함께 전달한다.<br><br></li>\n<li><strong>브라우저는 IP 주소를 이용해서 서버에 요청을 보낸다.</strong> <br>\r\n페이지 URL 정보와 전달받은 IP 주소는 HTTP 프로토콜을 사용하여 HTTP 요청 메시지를 생성하고, 이렇게 생성된 HTTP 요청 메시지는 TCP 프로토콜을 사용하여 인터넷을 거쳐 해당 IP 주소의 컴퓨터로 전송된다. 이렇게 도착한 HTTP 요청 메시지는 HTTP 프로토콜을 사용하여 웹 페이지 URL 정보로 변환되어 웹 페이지 URL 정보에 해당하는 데이터를 검색한다.<br><br></li>\n<li><strong>서버는 요청에 대한 응답을 보내준다.</strong> <br>\r\n검색된 웹 페이지 데이터는 또 다시 HTTP 프로토콜을 사용하여 HTTP 응답 메시지를 생성하고 TCP 프로토콜을 사용하여 인터넷을 거쳐 원래 컴퓨터로 전송된다.<br><br></li>\n<li><strong>브라우저는 응답 결과를 렌더링 한다.</strong><br>\r\n도착한 HTTP 응답 메시지는 HTTP 프로토콜을 사용하여 웹 페이지 데이터로 변환되어 웹 브라우저에 의해 출력되어 사용자가 볼 수 있게 된다.</li>\n</ol>\n<p><br><br></p>\n<img src=\"https://media.vlpt.us/images/woo0_hooo/post/e119383c-61cc-46d5-a85d-b27b65ddee1e/Untitled.png\">\n<br>\n<div class=\"from add\">\r\n    <ul>\r\n        <li>- 내용참고: <a href=\"https://sophia2730.tistory.com/entry/DNS-주소창에-wwwnavercom을-치면-일어나는-일\" tearget=\"_blank\">https://sophia2730.tistory.com/entry/DNS-주소창에-wwwnavercom을-치면-일어나는-일</a></li>\r\n        <li>- 사진출처: <a href=\"https://velog.io/@woo0_hooo/네트워크-웹-통신의-흐름\" target=\"_blank\">https://velog.io/@woo0_hooo/네트워크-웹-통신의-흐름</a></li>\r\n    </ul>\r\n</div>\n<br>","frontmatter":{"date":"April 25, 2022","title":"[web] 브라우저에 URL을 입력했을 때 발생하는 일들","categories":"web","author":"phrygia","emoji":"📓"},"fields":{"slug":"/web/2022-04-25-url-web/"}},"prev":{"id":"5ffdfec9-ff16-50fb-9463-945649b7c3ac","html":"<p>커머스 인하우스 신입 프론트엔드 개발자로 취업한지 2달정도 되었다. 현재 회사는 3개의 사이트를 가지고 있는데 1개만 자체솔루션이고 2개는 쇼핑몰 웹 솔루션을 사용하고 있다. 일반 솔루션을 사용하면 개발에 한정적이고 재고를 정확하게 관리하기 힘들기 때문에 하반기에 자체 솔루션 개발 계획이 있었다. 어쩌다보니 입사하고 3개월도 안되어 새롭게 구축하는 자체 솔루션 사이트의 웹 프론트 페이지 전체 구현을 맡게 되었다. 🤣 <br>\n사수님이 내가 원하는 스택을 마음껏 사용해도 된다고 해서 어떤 라이브러리를 사용할까 고민해보다가 많은 회사들이 Reacy Query라는 것을 사용해 프론트와 서버의 상태관리를 분리 시키는 작업을 한다는 것을 알게 되었고, 나도 새로운 트렌드를 따라가보고 싶어 사용을 결정하게 되었다 <br>\n실서비스에 적용하기에 앞서 최소한의 지식을 습득하고자 React Query가 무엇인지에 대해 공부해 보았다. <br><br></p>\n<h2 id=\"react-query\" style=\"position:relative;\"><a href=\"#react-query\" aria-label=\"react query permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Query?</h2>\n<blockquote>\n<p><code class=\"language-text\">React Query is often described as the missing data-fetching library for React, but in more technical terms, it makes fetching, caching, synchronizing and updating server state in your React applications a breeze.</code> <br> React Query는 종종 누락된 데이터를 가져오기 위한 React 라이브러리로 설명되지만, React(클라이언트)에서 서버의 값을 가져오거나 캐싱, 동기화, 업데이트할 수 있도록 해준다. <br></p>\n</blockquote>\n<br>\n위는 React Query의 <a href=\"https://tanstack.com/query/v4/docs/overview\" target=\"_blank\">공식문서</a>에 나와있는 설명으로 대충 요약하자면 클라이언트에서 서버의 값을 핸들링하기 쉽게 만들어 준다는 말이다. <br><br>\n<h4 id=\"그렇다면-이전-방식보다-나은점은-무엇일까\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EC%9D%B4%EC%A0%84-%EB%B0%A9%EC%8B%9D%EB%B3%B4%EB%8B%A4-%EB%82%98%EC%9D%80%EC%A0%90%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"그렇다면 이전 방식보다 나은점은 무엇일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그렇다면 이전 방식보다 나은점은 무엇일까?</h4>\n<p>React Query 이전에는 서버의 값을 핸들링하기 위해서는 loading, error, fetch 등 서버값을 다루기 위한 동작들을 개발자가 직접 구현해줘야 했었다. 실제로 Redux에서 서버값을 받아온다면 try/catch 구문을 써야 하는 등 코드가 장황하게 길어지는 순간들이 발생한다. <br>\n또한 React Query는 자체적으로 캐싱 기능이 있기 때문에 개발자가 직접 구현하지 않아도 되며 Hooks를 기반으로한 리액트스러운 라이브러리이기 때문에 리액트 개발자가 사용하기 쉽다는 장점이 있다. (심지어 자체 devtools가 있다.)<br>\n캐싱, get한 데이터의 자동 updating 지원, 중복 호출 컨트롤 지원, 무한 스크롤, 쉬운 비동기 관리 등등..\n<br><br><br></p>\n<h2 id=\"react-query의-server-state\" style=\"position:relative;\"><a href=\"#react-query%EC%9D%98-server-state\" aria-label=\"react query의 server state permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Query의 Server State</h2>\n<img src=\"https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F0hY1V%2FbtrFXYgkiWB%2Frp8XSWeQMdcS0KmKODimoK%2Fimg.jpg\">\n<small class=\"from\">이미지 출처 : <a href=\"https://freestrokes.tistory.com/170\" target=\"_blank\">https://freestrokes.tistory.com/170</a></small> <br>\n<ul>\n<li><strong>Fetching</strong> - 데이터를 요청하는 초기 상태.</li>\n<li><strong>Fresh</strong> - 데이터가 만료되지 않은 상태. 새로고침 시 다시 Fetching됨.</li>\n<li><strong>Stale</strong> - 데이터가 만료된 상태. 데이터의 최신화가 필요하기 때문에 Fetching을 통해 Fresh상태 유지. <br>\n    fresh에서 stale로 변경되는 시간 : staleTime(기본값: 0)</li>\n<li><strong>Inactive</strong> - 애플리케이션에서 사용하지 않는 데이터에 대한 상태. 가비지 컬렉터에 의해 제거 됨. <br>\n    캐싱된 상태로 남아있는 시간: cacheTime(기본값: 5분)</li>\n<li><strong>Delete</strong> - Inactive 데이터가 가비지 컬렉터에 의해 캐시에서 삭제된 상태.</li>\n</ul>\n<p>ex) [‘data’]라는 query key로 데이터를 <code class=\"language-text\">Fetching </code><br>\n→ [‘data’]라는 query key를 가진 값이 캐싱 됨<br>\n→ [‘data’]가 <code class=\"language-text\">Fresh</code> 상태에서 <code class=\"language-text\">staleTime</code> 이후 <code class=\"language-text\">Stale</code> 상태가 됨<br>\n→ <code class=\"language-text\">cacheTime</code>이 지난 후 가비지 컬렉터에 수거되고 <code class=\"language-text\">Delete</code>됨.<br>\n(cacheTime 이전에 새롭게 mount되면, Fetching이 실행되고 Fresh한 값을 설정하는 동안 캐싱된 데이터가 보여짐)<br><br><br></p>\n<h2 id=\"reacy-query-기본-사용\" style=\"position:relative;\"><a href=\"#reacy-query-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9\" aria-label=\"reacy query 기본 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reacy Query 기본 사용</h2>\n<p>React Query에서 많이 사용되는 기본 API에 대해 알아보자<br><br></p>\n<h3 id=\"1-usequery-query-key-usequeries\" style=\"position:relative;\"><a href=\"#1-usequery-query-key-usequeries\" aria-label=\"1 usequery query key usequeries permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. useQuery (query key), useQueries</h3>\n<p>일반적으로 프론트 개발자가 코딩할 때 가장 많이 쓰는 API 메서드가 get이라고 생각되는데 useQuery는 데이터를 get 하기 위한 api다. <br>\n동기적으로 실행하고 싶다면 <code class=\"language-text\">enabled</code>옵션을 사용하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// useQuery 옵션</span>\n<span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span>queryKey<span class=\"token punctuation\">,</span> queryFn<span class=\"token operator\">?</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  cacheTime<span class=\"token punctuation\">,</span>\n  enabled<span class=\"token punctuation\">,</span>\n  networkMode<span class=\"token punctuation\">,</span>\n  initialData<span class=\"token punctuation\">,</span>\n  initialDataUpdatedAt<span class=\"token punctuation\">,</span>\n  isDataEqual<span class=\"token punctuation\">,</span>\n  keepPreviousData<span class=\"token punctuation\">,</span>\n  meta<span class=\"token punctuation\">,</span>\n  notifyOnChangeProps<span class=\"token punctuation\">,</span>\n  onError<span class=\"token punctuation\">,</span>\n  onSettled<span class=\"token punctuation\">,</span>\n  onSuccess<span class=\"token punctuation\">,</span>\n  placeholderData<span class=\"token punctuation\">,</span>\n  queryKeyHashFn<span class=\"token punctuation\">,</span>\n  refetchInterval<span class=\"token punctuation\">,</span>\n  refetchIntervalInBackground<span class=\"token punctuation\">,</span>\n  refetchOnMount<span class=\"token punctuation\">,</span>\n  refetchOnReconnect<span class=\"token punctuation\">,</span>\n  refetchOnWindowFocus<span class=\"token punctuation\">,</span>\n  retry<span class=\"token punctuation\">,</span>\n  retryOnMount<span class=\"token punctuation\">,</span>\n  retryDelay<span class=\"token punctuation\">,</span>\n  select<span class=\"token punctuation\">,</span>\n  staleTime<span class=\"token punctuation\">,</span>\n  structuralSharing<span class=\"token punctuation\">,</span>\n  suspense<span class=\"token punctuation\">,</span>\n  useErrorBoundary<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>· 첫번째 파라미터</strong> : Array형태의 query Key(unique key). <br>\n(이전에는 string, array이 였는데 업데이트 되면서 string만 입력하면 에러가 뜨는걸 보니 array형태의 값이어야 하는 것 같다.)<br>\n<strong>· 두번째 파라미터</strong> : query Function. 즉 api를 요청하는 Promise 기반의 비동기 함수. <br>\n<strong>· 그 외 옵션</strong> : {} 안에서 사용할 수 있는 유용한 프러퍼티들. <br>\n(onError, onSuccess 등 비동기 요청에 대한 성공 실패를 쉽게 다룰 수 있다.)<br><br></p>\n<p>useQuery는 기본적으로 비동기로 동작하기 때문에 여러개의 useQuery가 존재한다면 여러개가 동시에 실행된다. (여러개가 존재한다면 useQueries 사용)<br></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 여러 useQuerie - 가독성 및 불필요한 코드 증가</span>\n<span class=\"token keyword\">const</span> query1 <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'data1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fetchData1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> query2 <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'data2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fetchData2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> query3 <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'data3'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fetchData3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// useQueries 사용</span>\n<span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token function\">useQueries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  queries<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> queryKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> queryFn<span class=\"token operator\">:</span> fetchPost<span class=\"token punctuation\">,</span> staleTime<span class=\"token operator\">:</span> <span class=\"token number\">Infinity</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span> queryKey<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> queryFn<span class=\"token operator\">:</span> fetchPost<span class=\"token punctuation\">,</span> staleTime<span class=\"token operator\">:</span> <span class=\"token number\">Infinity</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h3 id=\"2-usemutation\" style=\"position:relative;\"><a href=\"#2-usemutation\" aria-label=\"2 usemutation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. useMutation</h3>\n<p>useMutation은 서버의 데이터를 바꿀때 (create, update, delete) 사용하는 api다. <br>\nmutation에 대한 다양한 프러퍼티를 제공한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n  data<span class=\"token punctuation\">,</span>\n  error<span class=\"token punctuation\">,</span>\n  isError<span class=\"token punctuation\">,</span>\n  isIdle<span class=\"token punctuation\">,</span>\n  isLoading<span class=\"token punctuation\">,</span>\n  isPaused<span class=\"token punctuation\">,</span>\n  isSuccess<span class=\"token punctuation\">,</span>\n  mutate<span class=\"token punctuation\">,</span>\n  mutateAsync<span class=\"token punctuation\">,</span>\n  reset<span class=\"token punctuation\">,</span>\n  status<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span>mutationFn<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  cacheTime<span class=\"token punctuation\">,</span>\n  mutationKey<span class=\"token punctuation\">,</span>\n  networkMode<span class=\"token punctuation\">,</span>\n  onError<span class=\"token punctuation\">,</span>\n  onMutate<span class=\"token punctuation\">,</span>\n  onSettled<span class=\"token punctuation\">,</span>\n  onSuccess<span class=\"token punctuation\">,</span>\n  retry<span class=\"token punctuation\">,</span>\n  retryDelay<span class=\"token punctuation\">,</span>\n  useErrorBoundary<span class=\"token punctuation\">,</span>\n  meta<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// mutate 함수를 호출하여 mutation을 실행</span>\n<span class=\"token function\">mutate</span><span class=\"token punctuation\">(</span>variables<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  onError<span class=\"token punctuation\">,</span>\n  onSettled<span class=\"token punctuation\">,</span>\n  onSuccess<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// WritePost.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useMutation<span class=\"token punctuation\">,</span> useQueryClient <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-query'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">WritePost</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addPost</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://jsonplaceholder.typicode.com/posts</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> mutation <span class=\"token operator\">=</span> <span class=\"token function\">useMutation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">addPost</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">onMutate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">variables</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'onMutate'</span><span class=\"token punctuation\">,</span> variables<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// variable : { title: `title`, body: `body`, userId: 1 }</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">onError</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error<span class=\"token punctuation\">,</span> variables<span class=\"token punctuation\">,</span> context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'onError'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">onSuccess</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> variables<span class=\"token punctuation\">,</span> context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'onSuccess'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// update후에 query key의 get 함수를 재실행</span>\n      queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">invalidateQueries</span><span class=\"token punctuation\">(</span>query key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// mutation에서 return된 값으로 get 함수의 파라미터를 변경해야할 경우 setQueryData 사용</span>\n      queryClient<span class=\"token punctuation\">.</span><span class=\"token function\">setQueryData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>query key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> userId<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">onSettled</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">,</span> variables<span class=\"token punctuation\">,</span> context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'onSettled'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleSubmit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    mutation<span class=\"token punctuation\">.</span><span class=\"token function\">mutate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> title<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">title</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">body</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> userId<span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"button\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleSubmit<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        Add to Post\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>mutation<span class=\"token punctuation\">.</span>isLoading <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'loading...'</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">{</span>mutation<span class=\"token punctuation\">.</span>isSuccess <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'post update success!!'</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> WritePost<span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h3 id=\"3-usequery의-query-options\" style=\"position:relative;\"><a href=\"#3-usequery%EC%9D%98-query-options\" aria-label=\"3 usequery의 query options permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. useQuery의 Query Options</h3>\n<p>자주 쓰이는 Query Option에 대해 알아보자 (더 많은 옵션들은 <a href=\"https://tanstack.com/query/v4/docs/overview\" target=\"_blank\">공식문서</a>에서..)</p>\n<ol>\n<li><strong>enabled (boolean)</strong> <br>\n동기로 바꿔주어 자동으로 실행되지 않게 설정하는 옵션</li>\n<li><strong>retry (boolean | number | (failureCount: number, error))</strong><br>\n요청이 실패했는 때 재시도 횟수를 정하는 옵션으로, 기본값은 3번이다.</li>\n<li><strong>staleTime (number)</strong> <br>\n데이터가 Fresh 상태로 유지되는 시간이다. 기본값은 0이며 이후 Stale 상태가 된다.</li>\n<li><strong>cacheTime (number)</strong> <br>\nInactive 상태에서 캐시 데이터가 메모리에 남아있는 시간이다. (기본 5분) 이후 가비지 컬렉터에 수거되고 Delete 상태가 된다.</li>\n<li><strong>onSuccess (data)</strong> <br>\n쿼리 성공 시 실행되는 함수로 서버에서 넘어오는 값을 useState로 설정하기 좋다.</li>\n<li><strong>onError (error)</strong> <br>\n쿼리 실패 시 실행되는 함수로 에러에 대한 처리를 할 수 있다.</li>\n<li><strong>initialData</strong> <br>\n쿼리가 아직 생성되기 전에 해당 쿼리값을 불러오도록 코딩하면 참조 에러가 발생하는데 이때 쿼리 캐시의 초기 데이터를 설정한다. (초기 데이터는 기본적으로 Stale 상태임)</li>\n</ol>\n<p><br><br></p>\n<h2 id=\"usequery를-이용한-get-예시\" style=\"position:relative;\"><a href=\"#usequery%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-get-%EC%98%88%EC%8B%9C\" aria-label=\"usequery를 이용한 get 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useQuery를 이용한 get 예시</h2>\n<h4 id=\"기본설정\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8%EC%84%A4%EC%A0%95\" aria-label=\"기본설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본설정</h4>\n<p>먼저 사용하고 있는 React 프로젝트에 Reacy Query를 설치한다. (devtools를 사용하고 싶다면 같이 설치해준다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ npm i @tanstack<span class=\"token operator\">/</span>react<span class=\"token operator\">-</span>query\n<span class=\"token comment\">// or</span>\n$ yarn add @tanstack<span class=\"token operator\">/</span>react<span class=\"token operator\">-</span>query\n\n<span class=\"token comment\">// devtools</span>\n$ npm i @tanstack<span class=\"token operator\">/</span>react<span class=\"token operator\">-</span>query<span class=\"token operator\">-</span>devtools\n<span class=\"token comment\">// or</span>\n$ yarn add @tanstack<span class=\"token operator\">/</span>react<span class=\"token operator\">-</span>query<span class=\"token operator\">-</span>devtools</code></pre></div>\n<p><strong>QueryClientProvider?</strong> <br>\n리액트에서 비동기 요청을 처리하기 위한 Context Provider로 하위 컴포넌트들에서 QueryClient를 사용할 수 있게 해줍니다. (최상위에 위치한다면 전역적으로 사용할 수 있다.)<br></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// -index.jsx</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./index.css'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> QueryClient<span class=\"token punctuation\">,</span> QueryClientProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-query'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ReactQueryDevtools <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-query-devtools'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> queryClient <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QueryClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> rootNode <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>rootNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>QueryClientProvider client<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>queryClient<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span><span class=\"token comment\">/* devtools */</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>ReactQueryDevtools initialIsOpen<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>QueryClientProvider<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<h4 id=\"기본-api를-사용하여-상품-목록-불러오기\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-api%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%83%81%ED%92%88-%EB%AA%A9%EB%A1%9D-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0\" aria-label=\"기본 api를 사용하여 상품 목록 불러오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본 API를 사용하여 상품 목록 불러오기</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 438px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 185.61643835616437%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAlCAYAAABCr8kFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFoElEQVRIx5VW+29TdRTvX2H8BWOI8QeJMSYKqMhDZ1CDERNQQBRkMboACij4IMGoMSRCFNwjgMmyZYylrHt0Cx3uyZAu2+hz7bZ27da1Xd+v296u7/Vjzre73W0ZME9y8m2/93vPPed8zvmcr2RpaQmk+XweyWQKPM8jHo8jk8kgk8k+QjPI5QrvkSwsLCASiUACkdAGPfD5fEil0kin02wtV9qnj5NRweDs7Cy8Xi8kJtMM7HYnaE2l0+whHRI8FzSXy5X8FwwVzuaLTkmam6W4pejFjWYpYjG+eHAtstrZYsjhSBRcNMZ+m0wmGAwGzMzMwOFwsDRotVq2L+wlEgl2NpFIIhrlEY3Gkc3mIIlwUfz025/Y88kx7D9yEmd/voArV66iqakJLS0t6OnpQX9/P9rb29Ha2orGxkb2bH5+nhkMBMJwOr1wuXzMuMQfCGLD5vewY3sFtm7ZjvUvvIm2tnZMTEwwcCh3QvIpd1QBpLTPIgtH4fOFmCYSKUhifBwffHwU2yp247Udu7Bl5z5otFpYLDMIhUKPzSPH8VCpdLBa51kFMIN7Dh7F86/swrMvVuD1t/awOhNEjGo58oKHTqcHHk9g2cMYj1cr9uLJZzbhifUv4+nntoCPL64Z6dKQkwWUa6424tPK4zhwuAqXa+vhcDoRDocRDAYZwoSq2+1mK+WVALHbC3sEis22ALvdzYpdQglW3vsXdTV/obamGlVVX+L27duor69HW1sblEolpqamWBmNjY3BaDSy31RGs7NWhEIcQ9jt9hdCNpvNqK6uxvDwXWboqXXr0NHRAZvNxlpxLSF7vcEVlKenp1FZWQm73Y42mQybN22C9OZNBAKBElBWa0UgD46LlaEci2FgYAB6vQ7dcjnOnDnDckci9K8YYXEPCx4uLHhXUKbNaDQKnX4Cip4euF2uNfWw2GBJyAJbjN3tw+hwP+jY5OQk61uLxcKAoHQQEBqNBouLi8VUCK03N+fE/LyrgDJteixq1Jz7AhdOfwbvnBHdtxS4Pz7OymJubo6VChmlckmLKI6EUCbvyMtiHSrlf+PS2c9x/usDuCdvgFanx6TRWOzXR4UcicQwMTEFm82JZDINSWqRx0hXI34/fQS/HDsAZXcT8rlsMSwyKtZyUMigxWJj7cdCjkWC0A3I0HTxO1w6dxyaPhnSycSaQaGQPZ7gMspJSPJLOfg9Hly7Uo/L1fUwTZmguj8Og9HIOmR0dBRqtZqBQ0r5FIMSDBZAsdtFoFy+1oGdH/2IjW8cwb7D30KhuMWM+P1+eDweVuRUm0RnyWTygToMBCLw+8MroJz4/iLe3nsaG7d+iIp3D0Kt0cJqsawZFLN5Fg7HMjlksjlUnTqPd/Z+g207D+HYqV8R4WIPnX6CMSFkMmgwTK+g7POHceKHP1Cx+ytseOl97D90ElyU/198WBIyvawzmNHa8Q86uwdxQ9qFUCiMVCrJJhsp3SaoQ2hNpVLIZrOsXXk+hlAowriwWDb0lRmzCRqNCsp7w0inU+js7GRc2NXVhebmZqY0Ael/X18fGhoa0NoqY4MsGIzA4fAwgmC9TMysHBlh7re03GCHFAoF6urqIJfL2eiUyWSQSqXsQ9evX8edO3fAcdxyyFwpObhcLtb0JFarlZFsb28vG+jUtxQmvUwhE+FSqOU5dLsDy72cgoRqjei8UPUh1NbWYGRkpOjBaiKeekSwarV+hWBpiA8NDbFkk/T19TKvhBeFMllNxWOUvCwSrE6nYyGSDA4Oson3sMtQ+UXpAYIVHur1eqhUKoyPj5d0w+M8JHIghAtTLwmJQEnUo+QlreLaE+4ylBL6TzVIqRBWunmFQxz8/lAhh/QVekjsLBbaEyafOExibnGPk1HCIB7nV+6HgoflU428EodHhqgqyg3SDKcSI4D/A9NwhUYGSretAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"상품목록\"\n        title=\"상품목록\"\n        src=\"/static/82e1ddacfc3ffa6ff4e301af66bf3fe3/50e4b/2022-08-06-react-query.png\"\n        srcset=\"/static/82e1ddacfc3ffa6ff4e301af66bf3fe3/50e4b/2022-08-06-react-query.png 438w\"\n        sizes=\"(max-width: 438px) 100vw, 438px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span> <br>\n<a href=\"https://fakestoreapi.com\">https://fakestoreapi.com</a> 쇼핑몰 api를 사용하여 상품 목록을 불러와보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ProductList.jsx</span>\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useQuery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@tanstack/react-query'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ListProductItem <span class=\"token keyword\">from</span> <span class=\"token string\">'../../ui/Product/ListProductItem'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Props<span class=\"token punctuation\">,</span> Apis <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../../utils/lib/api'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ProductList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>products<span class=\"token punctuation\">,</span> setProducts<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>listType<span class=\"token punctuation\">,</span> setListType<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">'list'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> error<span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">,</span> isLoading <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'products'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Apis<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/products'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">onSuccess</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setProducts</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>isLoading <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>isLoading<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">{</span>products<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>ListProductItem products<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>products<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> ProductList<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// api.js</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> api <span class=\"token operator\">=</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  baseURL<span class=\"token operator\">:</span> <span class=\"token string\">'https://fakestoreapi.com/'</span><span class=\"token punctuation\">,</span>\n  headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'Content-type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json; charset=UTF-8'</span><span class=\"token punctuation\">,</span>\n    accept<span class=\"token operator\">:</span> <span class=\"token string\">'application/json,'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> Apis <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token operator\">:</span> string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// post, patch, delete 구현..</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>React Query를 처음 사용했을때는 fetch 함수를 작성해야 하는데 (api를 요청하는 부분) 왜 굳이 useQuery를 또 써야하지에 대한 의문점이 생겼었는데 계속 공부를 하다보니 데이터를 좀 더 직관적이고 쉽게 다둘 수 있어 좋다고 생각되는 라이브러리다. error, loading 및 재요청 횟수, 캐시 시간설정까지 옵션을 사용하면 쉽게 데이터를 다룰 수 있어 편하다고 생각되었고 왜 많은 개발회사들이 React Query를 사용하는지 알 수 있었다. <br>\n다가오는 새 프로젝트에서 자유자재로 React Query를 사용하는 그날까지 더 열심히 공부해야겠다. (udemy에 reacy Query에 대한 강의를 보면서 공부했었는데 굳이 강의를 보지 않아도 될정도로 쉽게 배울 수 있는 라이브러리라고 생각된다.)</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#react-query\">React Query?</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EA%B7%B8%EB%A0%87%EB%8B%A4%EB%A9%B4-%EC%9D%B4%EC%A0%84-%EB%B0%A9%EC%8B%9D%EB%B3%B4%EB%8B%A4-%EB%82%98%EC%9D%80%EC%A0%90%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\">그렇다면 이전 방식보다 나은점은 무엇일까?</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#react-query%EC%9D%98-server-state\">React Query의 Server State</a></p>\n</li>\n<li>\n<p><a href=\"#reacy-query-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9\">Reacy Query 기본 사용</a></p>\n<ul>\n<li><a href=\"#1-usequery-query-key-usequeries\">1. useQuery (query key), useQueries</a></li>\n<li><a href=\"#2-usemutation\">2. useMutation</a></li>\n<li><a href=\"#3-usequery%EC%9D%98-query-options\">3. useQuery의 Query Options</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#usequery%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-get-%EC%98%88%EC%8B%9C\">useQuery를 이용한 get 예시</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8%EC%84%A4%EC%A0%95\">기본설정</a></li>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8-api%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%83%81%ED%92%88-%EB%AA%A9%EB%A1%9D-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0\">기본 API를 사용하여 상품 목록 불러오기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 06, 2022","title":"[react] React Query 기초","categories":"react","author":"phrygia","emoji":"📓"},"fields":{"slug":"/react/2022-08-06-react-query/"}},"site":{"siteMetadata":{"siteUrl":"https://phrygia.github.io","comments":{"utterances":{"repo":"phrygia/blog-comments"}}}}},"pageContext":{"slug":"/diary/2022-06-12/","nextSlug":"/web/2022-04-25-url-web/","prevSlug":"/react/2022-08-06-react-query/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}