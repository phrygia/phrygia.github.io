{"componentChunkName":"component---src-templates-post-jsx","path":"/2023-08-15-vercel-node-version-update/","result":{"data":{"site":{"siteMetadata":{"title":"phrygia dev.log"}},"markdownRemark":{"id":"fb314803-d9a2-50e6-a24e-0b31d76c1c03","excerpt":"Nextjs로 자사 브랜드를 2개 운영중인 회사의 프론트엔드 개발자로 일하고 있는 필자는 어느순간부터 vercel에 접속할때마다 이런 문구를 발견했다.\n \n\n2023년 8월 15일부터 새로운 빌드가 적용되지 않는다니😱😱 \n2개 프로젝트 모두 node 14로 되어있기 때문에 사수는 8월 15일 전까지만 적용하면 된다고 했다.. (그치만 아직 1년된 쪼렙이 …","html":"<p>Nextjs로 자사 브랜드를 2개 운영중인 회사의 프론트엔드 개발자로 일하고 있는 필자는 어느순간부터 vercel에 접속할때마다 이런 문구를 발견했다.<br />\n<code class=\"language-text\">Node 14.x is depercated. New builds will be disabled on August 15th 2023</code> <br />\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 34.705882352941174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3ElEQVR42pWQTW7EIAyFHX5C+DHBhKSZ5bRR1EXVHiKHmbn/CcbQVpNNF3369HgGgWVACGGtHZq6roN/SUq57/sr63qNiM5a5xxi8D9yDL8e2gYf8drKwF2Bu42JAkYhldK90oZd94Puv4NRFZZhdHPe781QLwvRleQJTcYho2nBUKiBfsPoTTzBZY5OKwVSwHuBzxU+XuDrUkP1y9OZvcA2PXnLsBrQAoAHKPNS5jlNC9ISaQkx8RRn8EQImPN0u923bQOeJqVElHAkj+Rjcu1j/hI3Q8TjONZ1fQAxYRRGj67QsgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 01' title='' src='/static/a783e7f62f3cc113a8037f5cf205e8ae/ca1dc/2023-08-15-vercel-node-version-update-01.png' srcset='/static/a783e7f62f3cc113a8037f5cf205e8ae/e7570/2023-08-15-vercel-node-version-update-01.png 170w,\n/static/a783e7f62f3cc113a8037f5cf205e8ae/f46e7/2023-08-15-vercel-node-version-update-01.png 340w,\n/static/a783e7f62f3cc113a8037f5cf205e8ae/ca1dc/2023-08-15-vercel-node-version-update-01.png 680w,\n/static/a783e7f62f3cc113a8037f5cf205e8ae/02d09/2023-08-15-vercel-node-version-update-01.png 1020w,\n/static/a783e7f62f3cc113a8037f5cf205e8ae/9d567/2023-08-15-vercel-node-version-update-01.png 1360w,\n/static/a783e7f62f3cc113a8037f5cf205e8ae/13d1f/2023-08-15-vercel-node-version-update-01.png 1518w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span>\n2023년 8월 15일부터 새로운 빌드가 적용되지 않는다니😱😱 <br />\n2개 프로젝트 모두 node 14로 되어있기 때문에 사수는 8월 15일 전까지만 적용하면 된다고 했다.. (그치만 아직 1년된 쪼렙이 괜히 건들였다가 프러덕션에서 문제 생기면 어쩌지 하는 걱정이 컸다.) <br />\n프로젝트 1개는 작년 3분기~올해 1분기에 걸쳐 내가 만들어서 비교적 최신버전을 유지하고 있었기 때문에 상관없었지만, 나머지 1개는 사수가 몇년전에 만들어서 nextjs와 react 버전 자체가 낮았다. 새로운 npm 라이브러리를 설치할때마다 의존성 문제때문에 설치가 되지 않아 <code class=\"language-text\">npm install --lagacy-peer-deps</code>로 강제로 설치하고 있던 상태였다. <code class=\"language-text\">npm install --forc</code>로도 설치가되지 않아 더 강제적으로 설치해야만 했던 지난 날들..\n(변명을 하자면 이걸 먼저 해결했었어야 됐는데 회사 개발만으로 항상 바쁘기 때문에 건드리지도 못했었다. 변명이지만..) <br />\n어쨋든 무조건 node 버전을 업데이트 해야된 순간이 왔다. option으론 16.x와 18.x 가 있었기 때문에 쫄보는 16.x로 업데이트 하려고 했다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABN0lEQVR42pXR3U7CMBQH8CUy2bquZeu6L5FBhAELspiwjVsvkYeQ4a2+hvLWf7tCYoKJiRe/nNPTj7SnBuccaZoijmPESQxKKfr9PizL+jdCCAwRCBSrArPFDPkyRzJMIEKBIAogI4kgvMToJwopIGOpdfO6pvYQRx04GU2we96hWlWoHis0ZYN6Xav8b/X1eN0glBGMcljiffOB4/yovOl4yFu0+QHH/FXr8q52rZ23av3FssU0naonMwt11sNm1EOlNGMTTXaDMmMoMqE9ZQ624x62ExNVZqLu1ijlnYkiOVtIA5LdwmCug0RQxL6DSAl9qgnPhc/PAk4QDixNcuWSd5fx3C7aWDzcI1E9NhhjqtkJIsWTKYiXgoohHOaD2Lb6OQe2Rn8hjgvLJuADD59fJ7zs9/gGOt/AOvM4jjAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 07' title='' src='/static/e92769b6c1bb265c94d65ac4af86732a/ca1dc/2023-08-15-vercel-node-version-update-07.png' srcset='/static/e92769b6c1bb265c94d65ac4af86732a/e7570/2023-08-15-vercel-node-version-update-07.png 170w,\n/static/e92769b6c1bb265c94d65ac4af86732a/f46e7/2023-08-15-vercel-node-version-update-07.png 340w,\n/static/e92769b6c1bb265c94d65ac4af86732a/ca1dc/2023-08-15-vercel-node-version-update-07.png 680w,\n/static/e92769b6c1bb265c94d65ac4af86732a/02d09/2023-08-15-vercel-node-version-update-07.png 1020w,\n/static/e92769b6c1bb265c94d65ac4af86732a/9d567/2023-08-15-vercel-node-version-update-07.png 1360w,\n/static/e92769b6c1bb265c94d65ac4af86732a/cc39a/2023-08-15-vercel-node-version-update-07.png 1694w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span></p>\n<p>아니 이보시게, 16.x도 2024년 2월 6일부터 안된다구요? 그럼 무조건 18.x로 해야되는거잖아😱 (18.x가 가장 최상위 버전이기때문에 지원 중단예정에 없다.)\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 34.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABEklEQVR42p2RSW6DQBBFOwbSA0NPWA7CEMmRoiB2znCDKMphnPvvfqoLm4htFk9V/fVrAuGcg7WWMcZASvlviqKAmKYJiXme0fc9Nw4hIMbI0Xu/yT0tkN4pT1pIWiJ4bioeum5pRMa0refCsJip0KXC1OCqO0cDWhpA+U1jP3mUVBCRxKauUZUGZcJsqRi1UpOnKjX7byTNNTWUooZzl+P1uMOZeB8zvA3XOOb4eMxwHiVeBo+JcZgOOyLb8NzuMFR3tOE9RBssDtFiHx2dQQTC1fCNQbCGo6XpCxVsbVZcU9LWEuOxw/fXJ18qHH+vCBtaqKaFtnuo0kLS+lJpJp3yh17R2iDLcpxOT7hcfvgf/AJ9V6cXfMQIDwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 06' title='' src='/static/7357aa10431b3cd59da6484ba7b6e41b/ca1dc/2023-08-15-vercel-node-version-update-06.png' srcset='/static/7357aa10431b3cd59da6484ba7b6e41b/e7570/2023-08-15-vercel-node-version-update-06.png 170w,\n/static/7357aa10431b3cd59da6484ba7b6e41b/f46e7/2023-08-15-vercel-node-version-update-06.png 340w,\n/static/7357aa10431b3cd59da6484ba7b6e41b/ca1dc/2023-08-15-vercel-node-version-update-06.png 680w,\n/static/7357aa10431b3cd59da6484ba7b6e41b/02d09/2023-08-15-vercel-node-version-update-06.png 1020w,\n/static/7357aa10431b3cd59da6484ba7b6e41b/9d567/2023-08-15-vercel-node-version-update-06.png 1360w,\n/static/7357aa10431b3cd59da6484ba7b6e41b/bd320/2023-08-15-vercel-node-version-update-06.png 1876w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span></p>\n<p>어쩔수 없이 반강제로 18.x로 업데이트 여정이 시작되었다. <br />\n(여담으로 내가 만들었던 프로젝트는 갑작스러운 수정요청이 들어왔을때 18.x로 바꿔놓은지 모르고 배포를 했는데 프로젝트가 나름 최신버전으로 되어있었기 때문인지 에러없이 성공적으로 업데이트가 됐다. 얼떨결에 업데이트가 된 샘이다.)</p>\n<h3>18.x 업데이트 에러발생</h3>\n<p>오래된 버전의 nextjs node버전을 18.x로 수정하고 배포해보았지만.. 역시나 에러가 발생했다. 에러의 원인은 tailwind custom class. 많은 css 파일에서 @apply로 custom class 사용하고 있었기 때문에 tailwind를 다 떼버리긴 쉽지 않았다. 방법을 찾아야했다. 또한 <code class=\"language-text\">npm install --lagacy-peer-deps</code>없이 라이브러리가 설치되지 않는 것도 해결해야 했다. 어차피 시작한거 의존성문제를 위해 react와 nextjs 버전도 업데이트 하기로 결정했다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 71.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB50lEQVR42l1TCW7bMBDUA2qTe3B5iKLsRFZsJ3GCNP9/W4cSUqAVBotZcg/ukBoiUVVNRNH55D0fj4BsKGY1pUAkzv0HdQ5hw1NOn8uyjvXe5ts0rbVumC5jPcc4Mk+iHapNu93dpiF6Gp7M3lu7xvhI5TWme0wfKT9Sfk/5Lab3lGBfLb5FIF00XMIOq0RDyvmyrqrBosQsoqABtmPz5Af4SNh574gc08G5Ief8sq7RLAS1glI5xQgXFsipe3+5BSXoQsTMrieXcrvfDcJYRGqI5plJBPboPcr/A++weNwKHJHcZ56mey6fbf5s7Xs+fZ/OX/P8u82PXO4Wb12ICC1eU4IoN4svZkuw4v1gzmXnRu/hVO8bEQAyEa2lXMfaIDjxzNyIG8vMMhIhOOCqsLeoriGgNmREq665xWuwx1g/6oRWazCsLBrOIk+iwLMGVN86e0KxSgzb+zCDwy45o/nEMv0sIgBInpCi6IzrOnOvhztEPfQBwNH5ul37zl+CgeAI2D2xnEWz80MhmkUxyQlWpB9M9QyIXst4qxPceYsGaf0UsgULnvOAAtXTTHwRXRDB8syybFPd8GbxToPtmc89GSfnfcZ4dIPtPwZzERlFsoDwqBKhp/fY7T/J4bADc+6A1Pzr8AffWk0IL9fhSgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 02' title='' src='/static/05650d7d93b9a2fb43893f15c86a05b2/ca1dc/2023-08-15-vercel-node-version-update-02.png' srcset='/static/05650d7d93b9a2fb43893f15c86a05b2/e7570/2023-08-15-vercel-node-version-update-02.png 170w,\n/static/05650d7d93b9a2fb43893f15c86a05b2/f46e7/2023-08-15-vercel-node-version-update-02.png 340w,\n/static/05650d7d93b9a2fb43893f15c86a05b2/ca1dc/2023-08-15-vercel-node-version-update-02.png 680w,\n/static/05650d7d93b9a2fb43893f15c86a05b2/02d09/2023-08-15-vercel-node-version-update-02.png 1020w,\n/static/05650d7d93b9a2fb43893f15c86a05b2/9d567/2023-08-15-vercel-node-version-update-02.png 1360w,\n/static/05650d7d93b9a2fb43893f15c86a05b2/a75c2/2023-08-15-vercel-node-version-update-02.png 1938w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span></p>\n<h4>1. 라이브러리 버전 업데이트 및 정리</h4>\n<div style=\"max-width: 400px;\">\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 25.294117647058822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAc0RAP8A/8QAFhAAAwAAAAAAAAAAAAAAAAAAABAR/9oACAEBAAEFAlD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAWEAEBAQAAAAAAAAAAAAAAAAAAIQH/2gAIAQEAAT8hZkVX/9oADAMBAAIAAwAAABCD7//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/EIf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAgEBPxCn/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFRgf/aAAgBAQABPxDQPQJQs6WN+VeT/9k='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 03' title='' src='/static/dd21544b67ac0ad2482695ba41e9aba1/a22ce/2023-08-15-vercel-node-version-update-03.jpg' srcset='/static/dd21544b67ac0ad2482695ba41e9aba1/0b705/2023-08-15-vercel-node-version-update-03.jpg 170w,\n/static/dd21544b67ac0ad2482695ba41e9aba1/31389/2023-08-15-vercel-node-version-update-03.jpg 340w,\n/static/dd21544b67ac0ad2482695ba41e9aba1/a22ce/2023-08-15-vercel-node-version-update-03.jpg 680w,\n/static/dd21544b67ac0ad2482695ba41e9aba1/a2c73/2023-08-15-vercel-node-version-update-03.jpg 714w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span></p>\n</div>\n<p>의존성 에러가 발생했던 이유는 오래된 next 버전과 react 버전이 원인이었던 것 같다. next 13까지 나온 상황에서 11.1.2를 사용하고 있었다.. 13버전은 디렉토리 구조와 next 문법이 많이 달라졌기 때문에 13까지 업데이트 하는건 무리라고 판단해 12에서 가장 높은 12.3.4로 업데이트 하고 리액트로 17에서 가장 최신인 17.0.2로 업데이트 했다. <br />\n이로 인해 또다른 문제가 발생했는데 업데이트가 되지않는 오래된 라이브러리들에서 에러가 발생했고 아직 <code class=\"language-text\">npm i</code> 로 설치되지 않았다.\n이에 사용중이던 라이브러리들에 대한 버전을 찾아 설치하고 (너무 최신이면 또 에러가 발생한다.) 지원이 안되는 오래된 라이브러리들도 정리하여 새로운 라이브러리로 대체하자 정상적으로 설치가 되기 시작했다.</p>\n<h4>2. tailwind custom class 에러</h4>\n<p>아직 tailwind custom class 때문에 여전히 많은 error가 발생했고 계속된 빌드 실패...\n(이전에 npm run build를 사용해 본적이 없었기때문에 빌드 하고 확인 빌드 확인을 반복하다 vecel이 error로 뒤덮혔는데.. 이상황에 build를 사용하면 되는 거였었다.. 사수도 나도 사용안해봐서 몰랐던 부분으로 내가 build쓰면 배포때와 동일한 에러를 볼수 있다고 알려드렸다.)\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 68.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42mWSjXKEIAyEEUFAxZ6I177/k/YjUctcd0ZHIZvNz5qU0rIsX4Jt2+I0pWkyxozjOM/zJDAdOHfOvc8zxGhCCKuAFDNPStF7gqy1MUbi+OjJ5IKf5sSVQRkmmjnnNecUwhLjYBu4gu8lV68M/OjtYFsmIrYbkKkVMhGqzAec4YYXLGH1zhv9uSpf1+B9K3sYRlEmNbe8n+Kt5D2O0mZBegbz13aMiKOMJr9BQAwEVXaCdz1jCE0ZcillB6WsDJ9TlJlKStwqre8Z8b3sTVmXEW4QS+VEPwNrU+3ALxnPswZVprxaK+JHrZkWpGwvZXtJ1EOnfRzHRda2FZNz+ESVOSfiv0kASu3cymyePcPsTULqD5PcZYvDiKA8mI0v9pxlYOyXc51zTxb72Nfr1czDoyZryJnw1JlElfueVfnn+xvW5TBEnj1r2boqev5Qvnre26p+AUfIFEbeq2iYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 04' title='' src='/static/29b3b7b311c3a509554e1df765d03839/ca1dc/2023-08-15-vercel-node-version-update-04.png' srcset='/static/29b3b7b311c3a509554e1df765d03839/e7570/2023-08-15-vercel-node-version-update-04.png 170w,\n/static/29b3b7b311c3a509554e1df765d03839/f46e7/2023-08-15-vercel-node-version-update-04.png 340w,\n/static/29b3b7b311c3a509554e1df765d03839/ca1dc/2023-08-15-vercel-node-version-update-04.png 680w,\n/static/29b3b7b311c3a509554e1df765d03839/02d09/2023-08-15-vercel-node-version-update-04.png 1020w,\n/static/29b3b7b311c3a509554e1df765d03839/9d567/2023-08-15-vercel-node-version-update-04.png 1360w,\n/static/29b3b7b311c3a509554e1df765d03839/740ad/2023-08-15-vercel-node-version-update-04.png 1984w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span></p>\n<p>기존의 custom class는 이렇게 css파일안에 코딩되어있었는데 왜인지 모르겠으나 node 18.x에서는 이 파일을 제대로 읽어들이지 못하는 것 같았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> base<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> components<span class=\"token punctuation\">;</span></span>\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> utilities<span class=\"token punctuation\">;</span></span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@layer</span> utilities</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">.ellipsis1</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token atrule\"><span class=\"token rule\">@apply</span> whitespace-nowrap overflow-hidden overflow-ellipsis<span class=\"token punctuation\">;</span></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@tailwind</span> variants<span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>이 문제를 해결하기위해 2일은 넘게 뻘짓을 하다가 결국 사수에게 sos..\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVR42nWOSXKDMBAA+YHBSAShBUlgtIAWFrt8yAcSX/L/12SSVCWXuKrVl1HXTPH2/oh5n8Ma8+HmNE4eMC5YH8FziNYtFzM7Hye7GPfD11TIsVDDFNK2H3co83Zdt2taj5j2dbvFfPt4vKYUhJr0aPRo1WCknsAA74eiY9LOacmHjxvYLvniAu2Hlkmg44pySaiEb4T24F8oVwU8L/Qqh6x0lhquAXzHDaGWUEHFd/8/BWxnpGMtYi+YYEwQaqoKVyUqy/p0atuOCv00ZkITylDT1PiPM8I1wucatYSx5/EniD0v7q8fzgwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 05' title='' src='/static/7ce13abbeecb4c3cc83744d6e0077c63/ca1dc/2023-08-15-vercel-node-version-update-05.png' srcset='/static/7ce13abbeecb4c3cc83744d6e0077c63/e7570/2023-08-15-vercel-node-version-update-05.png 170w,\n/static/7ce13abbeecb4c3cc83744d6e0077c63/f46e7/2023-08-15-vercel-node-version-update-05.png 340w,\n/static/7ce13abbeecb4c3cc83744d6e0077c63/ca1dc/2023-08-15-vercel-node-version-update-05.png 680w,\n/static/7ce13abbeecb4c3cc83744d6e0077c63/02d09/2023-08-15-vercel-node-version-update-05.png 1020w,\n/static/7ce13abbeecb4c3cc83744d6e0077c63/9d567/2023-08-15-vercel-node-version-update-05.png 1360w,\n/static/7ce13abbeecb4c3cc83744d6e0077c63/7e99c/2023-08-15-vercel-node-version-update-05.png 1580w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span>\n그때부터 사수도 같이 고민하기 시작했고 사수가 해결해 줬다. (사수가 해결해 준 방법은 나도 적용해봤던건데 코드작성에 문제가 있었는지 해결되지 않았었다.. 결국 방법을 눈앞에 두고 나는 온갖 뻘짓을 한것.. <strong>좀더 꼼꼼히 살펴보자</strong>고 다시한번 느끼는 계기가 되었다. 정신차리자)</p>\n<h4>3. tailwind custom class 플러그인화</h4>\n<p>왜 @layer안에 있는 코드를 불러오지 못하는지 이해가 되지 않아 검색하다가 발견한 블로그인데, 이분은 vue/svelte를 예시로 말씀해 주시지만 react도 비슷한 맥락을 가지고 있다고 생각하면 이해가 된다.\nreact가 &#x3C;style>블록과 postCSS 플러그인 체인을 각각 독립적으로 실행하기 때문에 커스텀 클래스가 존재하는지 몰라 에러가 발생한다. 해결 방법은 plugin system을 사용하여 구성 요소에 '@apply'할 custom class 스타일을 정의하면 된다. <br />\n(그럼 왜 이전에는 된거지? 🤔 아마 nextjs react 버전의 문제라고는 생각한다..)\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 44.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJElEQVR42m2SC4+CMBCE+/9/oReP6PEoiKGAvESElW9jDaeSDNud2T52WuOckyzLJE1TiaJIrLWag6IopKoqyfNcTqeTJEmi4/P5rEAnonnetG2rSVmWSrABsWka8d+yLPLt+8ab+/0u0zQpbrfbP4zjKNfr9SMHwzBo3vf9K8IbTuTbJfqW4zjWHDCmLTTqwOFw0Lrj8fiajz2Gn/cQMBGEYfjaJAgCXRQP0ahHR4Pzsa5rMfjHohwX34gcH3Rdp61t4dv1GnVeY2zwbp7nN6O3+LyE98vY5oadsizVJ8BNl2Ul7bjIMInUTac8rXB6NNp1rhC38pfLRbvjVTC3X9cy+/2v7HY/EidWQjU8lii2ijBKVq+e3BN/ax6u0QOOGmDTTB739a13sfPcEQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='https://19-97.tistory.com/159' title='' src='/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/ca1dc/2023-08-15-vercel-node-version-update-09.png' srcset='/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/e7570/2023-08-15-vercel-node-version-update-09.png 170w,\n/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/f46e7/2023-08-15-vercel-node-version-update-09.png 340w,\n/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/ca1dc/2023-08-15-vercel-node-version-update-09.png 680w,\n/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/02d09/2023-08-15-vercel-node-version-update-09.png 1020w,\n/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/9d567/2023-08-15-vercel-node-version-update-09.png 1360w,\n/static/75b0bf6e2c2382e82a0ad5f1204c4bbf/25af7/2023-08-15-vercel-node-version-update-09.png 1608w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>https://19-97.tistory.com/159</figcaption>\n  </figure></p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 62.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABiklEQVR42pWT207CQBRF+Qpv3KHTlgLtQC8znV4AO4JBiagx6qP//xHb09EHH0TkYaVpM1k5e/ZpY/vygSDfItePiMsdVLnHLF1jllVf5BW40hhH1weZxBWYX0Dfv6GhNs9ojVN44RLDaQ57vMBgkmLIE1iBMM+BL9Cy44O0nQRnPY6o2KKh71/BpUZAMF6g7dIhJzKHajqOQNcV6HmH6Y8lrqw55GqHRqb3CCKKqB5gyVu4coN5dgtfrk0ci5fojsSf9DyJy+EcYvktvLBC2GIFoTcEiURFopyiSzPBScL85tGMy/wMI7pHRiKLCzhziVGsTJwThXsShnDDHEG2wFSVYLMMQ18aTp6wjnzFQjizAj5FHUVLOJGCS5gJKXZdyknCJrXapY9NO6Q1iNBiMZpE206OTversF6NgK/hTVeYhJoa1pgkVIyfo+Mm/xbKWqiqB9o9gYGn0HMl+l5KRRB0qJa1nfgo9bnzPqc/7Y4We/duBCygdqlpa/oDemc05THsoDD3XK6f8AnXgXXdUobsQwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='https://v2.tailwindcss.com/docs/adding-new-utilities' title='' src='/static/fcba934a692e81b494cecaffc4def3fd/ca1dc/2023-08-15-vercel-node-version-update-08.png' srcset='/static/fcba934a692e81b494cecaffc4def3fd/e7570/2023-08-15-vercel-node-version-update-08.png 170w,\n/static/fcba934a692e81b494cecaffc4def3fd/f46e7/2023-08-15-vercel-node-version-update-08.png 340w,\n/static/fcba934a692e81b494cecaffc4def3fd/ca1dc/2023-08-15-vercel-node-version-update-08.png 680w,\n/static/fcba934a692e81b494cecaffc4def3fd/02d09/2023-08-15-vercel-node-version-update-08.png 1020w,\n/static/fcba934a692e81b494cecaffc4def3fd/9d567/2023-08-15-vercel-node-version-update-08.png 1360w,\n/static/fcba934a692e81b494cecaffc4def3fd/a7dde/2023-08-15-vercel-node-version-update-08.png 1564w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>https://v2.tailwindcss.com/docs/adding-new-utilities</figcaption>\n  </figure></p>\n<p>기존의 css파일 @layer 안에 있던 코드를 tailwind.config.js 파일로 옮긴후 배포했더니 더이상의 에러 없이 18.x 버전으로 업데이트 되었다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 22.352941176470587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApElEQVR42o2MSwqDMABEcwpBjdR8TDRR8zFprNIPVISuShe9/1Wa6q6rwmMYHsMAxkUj+loobb3SrtdO2zC40YdZGR/lF+PNcIxYFzplfZi0cZ3kYJwu19u9bftoG6lIVVdMIMIRYaQSJWaYxs4xrffEtKHbIIUILMv6eL7VvA5+7JSTUp4sTmGZwTLND9lWftg9LBBIkjSnip1f8TIvUARu+Q8fmuolUk3w3NQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2023 08 15 vercel node version update 10' title='' src='/static/545de962cb88303c48afe0e2f6c49e25/ca1dc/2023-08-15-vercel-node-version-update-10.png' srcset='/static/545de962cb88303c48afe0e2f6c49e25/e7570/2023-08-15-vercel-node-version-update-10.png 170w,\n/static/545de962cb88303c48afe0e2f6c49e25/f46e7/2023-08-15-vercel-node-version-update-10.png 340w,\n/static/545de962cb88303c48afe0e2f6c49e25/ca1dc/2023-08-15-vercel-node-version-update-10.png 680w,\n/static/545de962cb88303c48afe0e2f6c49e25/02d09/2023-08-15-vercel-node-version-update-10.png 1020w,\n/static/545de962cb88303c48afe0e2f6c49e25/9d567/2023-08-15-vercel-node-version-update-10.png 1360w,\n/static/545de962cb88303c48afe0e2f6c49e25/c7591/2023-08-15-vercel-node-version-update-10.png 1574w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n    </span></p>\n<p>라이브러리 버전 및 tailwind 에러때문에 업데이트완료까지 3일이상의 시간이 걸렸었다. 내가 좀더 꼼꼼하고 자세히 봤었다면 사수의 도움없이도 해결될 수 있었던 문제였는데 아쉬운 마음이 든다. 앞으로는 좀더 주도적이고 꼼꼼하게 살펴보면서 왜 안되는지에 대한 원인도 정확하게 파악해봐야 겠다는 생각이 든다. 시간이 조금 걸리긴 했지만 업데이트 후 에러도 없고 의존성 문제도 해결해서 약간의 자신감과 동시에 주눅이 드는 시간이었던 것 같다.</p>","frontmatter":{"title":"[nextjs] nextjs node버전 업데이트 여정 (tailwind custom class error)","date":"August 15, 2023","update":null,"tags":["nextjs","tailwind","react"],"series":null},"fields":{"slug":"/2023-08-15-vercel-node-version-update/","readingTime":{"minutes":9.16}}},"seriesList":{"edges":[{"node":{"id":"85f01aa5-eee3-575e-811d-813ae4014d8c","fields":{"slug":"/2021-09-21-vue-clap-button/"},"frontmatter":{"title":"[vue] 박수치기 버튼 만들기 (vue clap button)"}}},{"node":{"id":"e17c2c8d-3ac3-52c8-b833-f0f63fb145ca","fields":{"slug":"/2021-09-21-sematic-tag/"},"frontmatter":{"title":"[html] Semantic Tag Layout (시맨틱 태그)"}}},{"node":{"id":"e9406318-7870-53b8-be0d-0628d5f16c6e","fields":{"slug":"/2021-09-21-javascript-object/"},"frontmatter":{"title":"[javascript] 객체 수정 제어 : preventExtensions(), seal(), freeze()"}}},{"node":{"id":"cba7b4a8-a8ea-5b52-8dd2-a248e4608e02","fields":{"slug":"/2021-09-21-rwd-awd/"},"frontmatter":{"title":"[web] 반응형(RWD)웹과 적응형(AWD)웹"}}},{"node":{"id":"121d2f8c-b8bd-5859-adb4-d552da584a31","fields":{"slug":"/2021-09-21-react-modal/"},"frontmatter":{"title":"[react] 모달 팝업창 만들기 (react modal)"}}},{"node":{"id":"157b47fb-9294-57ef-9771-7d7a2821fbf4","fields":{"slug":"/2021-09-21-function-prototype/"},"frontmatter":{"title":"[javascript] 함수의 call, apply, bind 메서드"}}},{"node":{"id":"10ab8846-cab6-5f3b-8284-505b13f7084a","fields":{"slug":"/2021-09-21-scroll/"},"frontmatter":{"title":"[html] 특정 영역으로 스크롤 이동 - 앵커기능(anchor) vs data 속성"}}},{"node":{"id":"4b5dea8f-4444-5637-9830-c3c989400402","fields":{"slug":"/2021-09-21-object/"},"frontmatter":{"title":"[javascript] Object.assign() & Object.create()"}}},{"node":{"id":"88fb7276-7d08-5a9a-ba95-c65bdef391c6","fields":{"slug":"/2021-09-21-scope/"},"frontmatter":{"title":"[javascript] execution context, scope (실행 컨텍스트, 스코프)"}}},{"node":{"id":"50a8a0a9-8dd3-57a0-948c-9212fb004fb3","fields":{"slug":"/2021-09-21-hoisting/"},"frontmatter":{"title":"[javascript] hoisting (호이스팅)"}}},{"node":{"id":"ec875953-377a-5ada-8b87-c272e65f12a1","fields":{"slug":"/2021-09-21-closure/"},"frontmatter":{"title":"[javascript] closure (클로저)"}}},{"node":{"id":"06cddb64-6db7-508a-8cb5-1564e438ebb7","fields":{"slug":"/2021-10-26-gaysby/"},"frontmatter":{"title":"[gatsby] Google Search Console과 Analytics 추가하기"}}},{"node":{"id":"e6286486-8ec3-5662-b1cf-895996e89851","fields":{"slug":"/2021-10-27-react-firebase/"},"frontmatter":{"title":"[react] firebase 프로젝트 배포하기"}}},{"node":{"id":"2d4fc9ca-ba49-574a-bfe3-3606aa0d4331","fields":{"slug":"/2021-10-30-var-let-const/"},"frontmatter":{"title":"[javascript] var, let, const"}}},{"node":{"id":"4d966f89-a26f-5410-a2fa-a41551cd718e","fields":{"slug":"/2021-11-09-algorithm/"},"frontmatter":{"title":"[algorithm] 약수, 소수, 최대공약수, 최소공배수"}}},{"node":{"id":"4c707311-c079-57e1-a572-98f3aa7ae231","fields":{"slug":"/2021-11-25-mui-react/"},"frontmatter":{"title":"[react] Material ui 템플릿 (Mui) 으로 회원가입 페이지 만들기 "}}},{"node":{"id":"0ab0d3c0-07e9-503d-ac43-54d9254180e5","fields":{"slug":"/2021-11-28-algorithm/"},"frontmatter":{"title":"[algorithm] LeetCode 139. Word Break "}}},{"node":{"id":"6dcf61f9-9ed6-5cfb-8947-f87bac931416","fields":{"slug":"/2021-12-02-bigO/"},"frontmatter":{"title":"[algorithm] 자바스크립트 빅오 표기법 (Big-O)"}}},{"node":{"id":"45389ff3-dff3-51b6-ab97-2eaa99c99dc4","fields":{"slug":"/2021-12-07-sorting-algorithm/"},"frontmatter":{"title":"[algorithm] 정렬 알고리즘 - 버블, 삽입, 선택, 병합, 퀵"}}},{"node":{"id":"f1ac0cd5-4c87-5edd-9702-ad95516ccd7d","fields":{"slug":"/2021-12-12-gaysby/"},"frontmatter":{"title":"[gatsby] gaysby로 TIL만들기"}}},{"node":{"id":"0b9239b9-8a3f-5bce-b733-412718adc20b","fields":{"slug":"/2021-12-14-codility/"},"frontmatter":{"title":"[algorithm] Codility Lesson 4. MissingInteger"}}},{"node":{"id":"3bc11fc9-8a50-5b56-ac54-8c89973dae82","fields":{"slug":"/2021-12-22-react-redux-persist/"},"frontmatter":{"title":"[react] react프로젝트에 redux-persist 적용하기"}}},{"node":{"id":"1c11f636-4486-5cb5-9bd0-e4ac4e3a1f03","fields":{"slug":"/2022-01-02-aws/"},"frontmatter":{"title":"[aws] PuTTY로 윈도우에서 aws ec2 ssh 접속하기"}}},{"node":{"id":"623c8fce-4a4c-58e9-82c3-932272112732","fields":{"slug":"/2022-01-27-styled-components/"},"frontmatter":{"title":"[react] styled-components 반응형 스타일 설정하기"}}},{"node":{"id":"c3bd1f2b-9d76-5f6b-af23-328ede9408e0","fields":{"slug":"/2022-02-06-scss-for/"},"frontmatter":{"title":"[scss] @for ~ through / to 차이점"}}},{"node":{"id":"f4995c24-f2de-5b69-9eb4-b6d86b64e1cf","fields":{"slug":"/2022-02-18-react/"},"frontmatter":{"title":"[react] CRA없이 React환경 구축하기 (웹팩, 바벨)"}}},{"node":{"id":"7e733056-9768-5753-9b29-0d34cc3320dc","fields":{"slug":"/2022-03-03-react-modal/"},"frontmatter":{"title":"[react] transition이 적용된 Modal 만들기"}}},{"node":{"id":"3f792d2c-3143-561e-9a78-cbf812f2d06c","fields":{"slug":"/2022-04-05-react/"},"frontmatter":{"title":"[react] react 코딩 컨벤션"}}},{"node":{"id":"d85197d6-d2e1-5420-b0dc-493facfb091a","fields":{"slug":"/2022-03-09/"},"frontmatter":{"title":"[diary] 프론트엔드 신입 면접 준비하기"}}},{"node":{"id":"8b9e8572-327f-5494-a9db-f0680b8d0458","fields":{"slug":"/2022-04-25-git-basic/"},"frontmatter":{"title":"[git] git 기본 사용법"}}},{"node":{"id":"90793e50-0e7d-523b-a01a-edd3233d3daa","fields":{"slug":"/2022-04-25-browsers-repository/"},"frontmatter":{"title":"[web] Storage vs Cookie"}}},{"node":{"id":"bfc8fa0a-6428-5a7f-ae78-1264c36e56d9","fields":{"slug":"/2022-04-25-virtual-dom/"},"frontmatter":{"title":"[react] Virtual Dom (가상 돔)"}}},{"node":{"id":"b6e54fa8-a7d3-584a-9ecf-288d4447f853","fields":{"slug":"/2022-04-25-redux-saga/"},"frontmatter":{"title":"[redux] Redux Saga"}}},{"node":{"id":"2a064548-9f02-5961-b1fd-ddd288759867","fields":{"slug":"/2022-04-25-hooks/"},"frontmatter":{"title":"[react] React Hooks (리액트 훅스)"}}},{"node":{"id":"d9910675-d365-5284-9c30-93a93a2d5fcc","fields":{"slug":"/2022-04-25-async-await/"},"frontmatter":{"title":"[javascript] Async await"}}},{"node":{"id":"96dd1868-430e-5558-a4ae-4707f19eec2c","fields":{"slug":"/2022-04-25-promise/"},"frontmatter":{"title":"[javascript] Promise"}}},{"node":{"id":"12f3c640-b2cd-5cdb-8a6c-8bfe16c4cf87","fields":{"slug":"/2022-04-25-js-runtime/"},"frontmatter":{"title":"[javascript] 자바스크립트 런타임"}}},{"node":{"id":"0481546f-7543-5f1f-af9b-f0ef107366ba","fields":{"slug":"/2022-04-25-throttle-debounce/"},"frontmatter":{"title":"[javascript] throttling과 debouncing"}}},{"node":{"id":"b8f5a7d8-6e73-5cce-a287-a8bd97d590ad","fields":{"slug":"/2022-04-25-url-web/"},"frontmatter":{"title":"[web] 브라우저에 URL을 입력했을 때 발생하는 일들"}}},{"node":{"id":"e3ddc21a-e1b0-56fb-9424-a26a63d3b3fa","fields":{"slug":"/2022-06-12/"},"frontmatter":{"title":"[diary] 성장하는 개발자"}}},{"node":{"id":"a40425b1-a608-5090-b224-4ef330e67298","fields":{"slug":"/2022-08-06-react-query/"},"frontmatter":{"title":"[react] React Query 기초"}}},{"node":{"id":"3cb97112-9e20-5bc8-8938-f2900a32150b","fields":{"slug":"/2022-08-15-recoil/"},"frontmatter":{"title":"[react] Recoil 상태관리 라이브러리"}}},{"node":{"id":"e40f337e-6ce7-571b-a183-087cceb67d25","fields":{"slug":"/2022-11-06-nextjs-13/"},"frontmatter":{"title":"[nextjs] Next.js 13"}}},{"node":{"id":"6df23f2e-58a7-5423-b212-4298c7019cbc","fields":{"slug":"/2023-01-08/"},"frontmatter":{"title":"[diary] 2022년 회고"}}},{"node":{"id":"dc6e27bc-c609-56f6-86d8-97bfeb346561","fields":{"slug":"/2023-01-23-array-to-object/"},"frontmatter":{"title":"[javascript] 배열에서 특정값을 선택해서 객체로 변환하기 (배열을 객체로)"}}},{"node":{"id":"82f7d2e8-2e89-5fe9-94df-4178ad8a5b6a","fields":{"slug":"/2023-03-03-git/"},"frontmatter":{"title":"[git] 실무에서 사용했던 git 정리"}}},{"node":{"id":"fb314803-d9a2-50e6-a24e-0b31d76c1c03","fields":{"slug":"/2023-08-15-vercel-node-version-update/"},"frontmatter":{"title":"[nextjs] nextjs node버전 업데이트 여정 (tailwind custom class error)"}}}]},"previous":{"fields":{"slug":"/2023-03-03-git/"},"frontmatter":{"title":"[git] 실무에서 사용했던 git 정리"}},"next":null},"pageContext":{"id":"fb314803-d9a2-50e6-a24e-0b31d76c1c03","series":null,"previousPostId":"82f7d2e8-2e89-5fe9-94df-4178ad8a5b6a","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}